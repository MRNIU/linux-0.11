<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux: /home/runner/work/linux-0.11/linux-0.11/flash/Linux-0.11/kernel/fork.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux
   &#160;<span id="projectnumber">0.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('flash_2Linux-0_811_2kernel_2fork_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fork.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;linux/sched.h&gt;</code><br />
<code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;asm/segment.h&gt;</code><br />
<code>#include &lt;asm/system.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fork.c:</div>
<div class="dyncontent">
<div class="center"><img src="flash_2Linux-0_811_2kernel_2fork_8c__incl.png" border="0" usemap="#a_2home_2runner_2work_2linux-0_811_2linux-0_811_2flash_2Linux-0_811_2kernel_2fork_8c" alt=""/></div>
<map name="a_2home_2runner_2work_2linux-0_811_2linux-0_811_2flash_2Linux-0_811_2kernel_2fork_8c" id="a_2home_2runner_2work_2linux-0_811_2linux-0_811_2flash_2Linux-0_811_2kernel_2fork_8c">
<area shape="rect" title=" " alt="" coords="194,5,375,61"/>
<area shape="rect" title=" " alt="" coords="5,109,73,136"/>
<area shape="rect" title=" " alt="" coords="97,109,205,136"/>
<area shape="rect" title=" " alt="" coords="229,109,340,136"/>
<area shape="rect" title=" " alt="" coords="365,109,487,136"/>
<area shape="rect" title=" " alt="" coords="511,109,626,136"/>
</map>
</div>
</div>
<p><a href="flash_2Linux-0_811_2kernel_2fork_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abe18d0a2e79d311f52c8c127665239d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c.html#abe18d0a2e79d311f52c8c127665239d6">write_verify</a> (unsigned long address)</td></tr>
<tr class="separator:abe18d0a2e79d311f52c8c127665239d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8efcba841fb222026f17dff526f0aa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c.html#ad8efcba841fb222026f17dff526f0aa7">verify_area</a> (void *addr, int size)</td></tr>
<tr class="separator:ad8efcba841fb222026f17dff526f0aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83662a2300404942511d99c80128deb1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a83662a2300404942511d99c80128deb1">copy_mem</a> (int nr, struct <a class="el" href="structtask__struct.html">task_struct</a> *p)</td></tr>
<tr class="separator:a83662a2300404942511d99c80128deb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab154f2aa621bc4a2a554496a7eaa59ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c.html#ab154f2aa621bc4a2a554496a7eaa59ab">copy_process</a> (int nr, long ebp, long edi, long esi, long gs, long none, long ebx, long ecx, long edx, long fs, long es, long ds, long eip, long cs, long eflags, long esp, long ss)</td></tr>
<tr class="separator:ab154f2aa621bc4a2a554496a7eaa59ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5d31cd1857855b708465812fa64642"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a4f5d31cd1857855b708465812fa64642">find_empty_process</a> (void)</td></tr>
<tr class="separator:a4f5d31cd1857855b708465812fa64642"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3f33947b2f4a1036cd2830fa11621c57"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a3f33947b2f4a1036cd2830fa11621c57">last_pid</a> =0</td></tr>
<tr class="separator:a3f33947b2f4a1036cd2830fa11621c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a83662a2300404942511d99c80128deb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83662a2300404942511d99c80128deb1">&#9670;&nbsp;</a></span>copy_mem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int copy_mem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtask__struct.html">task_struct</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html#l00039">39</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html">fork.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> old_data_base,new_data_base,data_limit;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> old_code_base,new_code_base,code_limit;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    code_limit=<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e07a3b0c01ae08bc0fe1136c24a092">get_limit</a>(0x0f);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    data_limit=<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e07a3b0c01ae08bc0fe1136c24a092">get_limit</a>(0x17);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    old_code_base = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a9dd1e6646ae18eb198ab5c9882b4f1a0">get_base</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">ldt</a>[1]);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    old_data_base = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a9dd1e6646ae18eb198ab5c9882b4f1a0">get_base</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">ldt</a>[2]);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (old_data_base != old_code_base)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;We don&#39;t support separate I&amp;D&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (data_limit &lt; code_limit)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;Bad data_limit&quot;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    new_data_base = new_code_base = nr * 0x4000000;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a24d9b9a967501adbc9ef96dde3ae3cbd">start_code</a> = new_code_base;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a9887960d03859332cb310a3e349868ba">set_base</a>(p-&gt;<a class="code" href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">ldt</a>[1],new_code_base);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a9887960d03859332cb310a3e349868ba">set_base</a>(p-&gt;<a class="code" href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">ldt</a>[2],new_data_base);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a3ff1fa1f4d832c7358ba7a038dbac76c">copy_page_tables</a>(old_data_base,new_data_base,data_limit)) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc">printk</a>(<span class="stringliteral">&quot;free_page_tables: from copy_mem\n&quot;</span>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a235add1ba6e02ce735d70348d51b25da">free_page_tables</a>(new_data_base,data_limit);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_a6a05c923dad0c1208043e9c20a58c8e5"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a></div><div class="ttdeci">#define ENOMEM</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00031">errno.h:31</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2kernel_8h_html_a929c48d2c61fe71be34a9cdf0ab04fcc"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc">printk</a></div><div class="ttdeci">int printk(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2printk_8c_source.html#l00021">printk.c:21</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2kernel_8h_html_ab43c5eded9a063f60e583332eaa73258"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a></div><div class="ttdeci">volatile void panic(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2panic_8c_source.html#l00018">panic.c:18</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a17e07a3b0c01ae08bc0fe1136c24a092"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e07a3b0c01ae08bc0fe1136c24a092">get_limit</a></div><div class="ttdeci">#define get_limit(segment)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00251">sched.h:251</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a235add1ba6e02ce735d70348d51b25da"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a235add1ba6e02ce735d70348d51b25da">free_page_tables</a></div><div class="ttdeci">int free_page_tables(unsigned long from, unsigned long size)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00105">memory.c:105</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a3ff1fa1f4d832c7358ba7a038dbac76c"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a3ff1fa1f4d832c7358ba7a038dbac76c">copy_page_tables</a></div><div class="ttdeci">int copy_page_tables(unsigned long from, unsigned long to, long size)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00150">memory.c:150</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a476ec09a598028a09942c2233aa5127e"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a></div><div class="ttdeci">struct task_struct * current</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00062">sched.c:62</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a9887960d03859332cb310a3e349868ba"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a9887960d03859332cb310a3e349868ba">set_base</a></div><div class="ttdeci">#define set_base(ldt, base)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00217">sched.h:217</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a9dd1e6646ae18eb198ab5c9882b4f1a0"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a9dd1e6646ae18eb198ab5c9882b4f1a0">get_base</a></div><div class="ttdeci">#define get_base(ldt)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00249">sched.h:249</a></div></div>
<div class="ttc" id="astructtask__struct_html_a24d9b9a967501adbc9ef96dde3ae3cbd"><div class="ttname"><a href="structtask__struct.html#a24d9b9a967501adbc9ef96dde3ae3cbd">task_struct::start_code</a></div><div class="ttdeci">unsigned long start_code</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00090">sched.h:90</a></div></div>
<div class="ttc" id="astructtask__struct_html_a326ff4e561c98dd1d2a23d43d0a42ab6"><div class="ttname"><a href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">task_struct::ldt</a></div><div class="ttdeci">struct desc_struct ldt[3]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00104">sched.h:106</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_cgraph.png" border="0" usemap="#aflash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_cgraph" alt=""/></div>
<map name="aflash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_cgraph" id="aflash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,100,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a3ff1fa1f4d832c7358ba7a038dbac76c" title=" " alt="" coords="148,5,287,32"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="363,56,421,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="508,132,568,159"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a235add1ba6e02ce735d70348d51b25da" title=" " alt="" coords="150,107,285,133"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#af5beb0578c75971eb353cd8a67e9c042" title=" " alt="" coords="335,5,449,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="497,56,579,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="627,132,699,159"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="751,81,823,108"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="747,132,828,159"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="758,183,817,209"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#a6b87a284a258fa3893dc88c0fcd6f610" title=" " alt="" coords="349,107,435,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_icgraph.png" border="0" usemap="#aflash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_icgraph" alt=""/></div>
<map name="aflash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_icgraph" id="aflash_2Linux-0_811_2kernel_2fork_8c_a83662a2300404942511d99c80128deb1_icgraph">
<area shape="rect" title=" " alt="" coords="164,5,259,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2fork_8c.html#ab154f2aa621bc4a2a554496a7eaa59ab" title=" " alt="" coords="5,5,116,32"/>
</map>
</div>

</div>
</div>
<a id="ab154f2aa621bc4a2a554496a7eaa59ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab154f2aa621bc4a2a554496a7eaa59ab">&#9670;&nbsp;</a></span>copy_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int copy_process </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ebp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>edi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>esi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>gs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>none</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ebx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ecx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>edx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>es</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>eip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>eflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>esp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ss</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html#l00069">69</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html">fork.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtask__struct.html">task_struct</a> *p;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfile.html">file</a> *f;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    p = (<span class="keyword">struct </span><a class="code" href="structtask__struct.html">task_struct</a> *) <a class="code" href="flash_2Linux-0_811_2include_2linux_2mm_8h.html#af5beb0578c75971eb353cd8a67e9c042">get_free_page</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (!p)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[nr] = p;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    *p = *<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>;  <span class="comment">/* NOTE! this doesn&#39;t copy the supervisor stack */</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">state</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a797095919d5e24e5dc00c4d0bbc7ec31">TASK_UNINTERRUPTIBLE</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a192ab89a0e8b299ff3fca4931e331667">pid</a> = <a class="code" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a3f33947b2f4a1036cd2830fa11621c57">last_pid</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a889eead58452db4f8a717d529db3476f">father</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a192ab89a0e8b299ff3fca4931e331667">pid</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#ae4e1fb3352913d7090328fb14a5f1ab6">counter</a> = p-&gt;<a class="code" href="structtask__struct.html#a8193f5ec2b16adca8548c1933ea32ac4">priority</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a52bf129480ad1720d6672e94a8736b56">signal</a> = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a0e5b73ccd6d17da05b7d7b4f12840dd7">alarm</a> = 0;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a27d1eeb29875216c39bb586fb0b3351e">leader</a> = 0;      <span class="comment">/* process leadership doesn&#39;t inherit */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#ac67536267a42feff0b76cd421f3b7ba5">utime</a> = p-&gt;<a class="code" href="structtask__struct.html#aa93ba7dd90be4a36c8f99605d0c1c267">stime</a> = 0;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#abe96abb8ca23fc1652ae702a8d4ee0f1">cutime</a> = p-&gt;<a class="code" href="structtask__struct.html#ad7708e623dbbdec46f098cb287ba916f">cstime</a> = 0;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5bc65cf51b00bf240ba7a6e33b0dc557">start_time</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a37aca3305753442605b0762afa99a07e">jiffies</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a2ab212d44ec13115091bdfea25c40b2d">back_link</a> = 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a5278763218530acea6ed5eca281da2c7">esp0</a> = <a class="code" href="flash_2Linux-0_811_2include_2a_8out_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> + (long) p;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a2951d2f693e4bc672ef197e36be51187">ss0</a> = 0x10;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#ab71e63c68ca8ca2f4fa8f9740091f387">eip</a> = eip;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#aba9d2203aec95e7b103a54f61a7f26be">eflags</a> = eflags;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a8ca4b066e53d0ecf1a158cfaa724de0e">eax</a> = 0;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a163f0aeea4b826476567291c0550603d">ecx</a> = ecx;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a44f1cf88dc485efc46c280331bee2f15">edx</a> = edx;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#aa564439ea1eabeba14b0e8b7c0b4cba5">ebx</a> = ebx;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#aa4f02717786d9775affbb21e991ff6e5">esp</a> = esp;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a265cb916696366cd829321a36281fcff">ebp</a> = ebp;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#ab17663a45d8fac3e57549f30ffdfc8c6">esi</a> = esi;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#afca380fb2cf2efd7b933865ee3287faf">edi</a> = edi;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#aeaf5c06a6b150bd3950ea232fd9e7ad2">es</a> = es &amp; 0xffff;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a690779f84552e81c65f7fe7f64509ae3">cs</a> = cs &amp; 0xffff;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a2a085ec11d3926d2fd6a26860cc5eafa">ss</a> = ss &amp; 0xffff;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a30804603b60c2c45a50672c138b8b210">ds</a> = ds &amp; 0xffff;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#aa8df65f6223dbabbb80fd77639758ff9">fs</a> = fs &amp; 0xffff;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a8c413a9f9fba57401c6637b654e5afb7">gs</a> = gs &amp; 0xffff;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a1c7bbe6f65933eb827d7fd0b444cfbb0">ldt</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#ad409b6004d0298c9d562e40fa00a9a30">_LDT</a>(nr);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#ac04a5548296792b2958d77187279ed5f">trace_bitmap</a> = 0x80000000;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a4a720faae9986c1917541956019c8a3b">last_task_used_math</a> == <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        __asm__(<span class="stringliteral">&quot;clts ; fnsave %0&quot;</span>::<span class="stringliteral">&quot;m&quot;</span> (p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>.<a class="code" href="structtss__struct.html#a58edc7ddd17400641060790ec8c41be2">i387</a>));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a83662a2300404942511d99c80128deb1">copy_mem</a>(nr,p)) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[nr] = <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2mm_8h.html#a6b87a284a258fa3893dc88c0fcd6f610">free_page</a>((<span class="keywordtype">long</span>) p);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a326ba885b33e0ac094fec455a1ec30b3">NR_OPEN</a>;i++)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">if</span> ((f=p-&gt;<a class="code" href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">filp</a>[i]))</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            f-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a>++;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a66b96e2cff9937ecdba35d1787a6a099">pwd</a>)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a66b96e2cff9937ecdba35d1787a6a099">pwd</a>-&gt;<a class="code" href="structm__inode.html#a2a639e88f4a46ff1bff2078aef2f6839">i_count</a>++;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a7e465a232e068e5bf74d8b389b8e82ed">root</a>)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a7e465a232e068e5bf74d8b389b8e82ed">root</a>-&gt;<a class="code" href="structm__inode.html#a2a639e88f4a46ff1bff2078aef2f6839">i_count</a>++;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#ae07dc9ad85faa82c21f0280346eee331">executable</a>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#ae07dc9ad85faa82c21f0280346eee331">executable</a>-&gt;<a class="code" href="structm__inode.html#a2a639e88f4a46ff1bff2078aef2f6839">i_count</a>++;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a96702af0c49d089dea06401ef7c35603">set_tss_desc</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2head_8h.html#a3e85239bce7eee478410603d53e53218">gdt</a>+(nr&lt;&lt;1)+<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>,&amp;(p-&gt;<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a2c14e0b2544e442c0ab14172a8ee869d">set_ldt_desc</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2head_8h.html#a3e85239bce7eee478410603d53e53218">gdt</a>+(nr&lt;&lt;1)+<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#af64191dd71668816b0163a4f16f01946">FIRST_LDT_ENTRY</a>,&amp;(p-&gt;<a class="code" href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">ldt</a>));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    p-&gt;<a class="code" href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">state</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e3f99a030e5dfefb8f9815600e3fed">TASK_RUNNING</a>;    <span class="comment">/* do this last, just in case */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a3f33947b2f4a1036cd2830fa11621c57">last_pid</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2a_8out_8h_html_a7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="flash_2Linux-0_811_2include_2a_8out_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2a_8out_8h_source.html#l00092">a.out.h:92</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_a2c14e0b2544e442c0ab14172a8ee869d"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a2c14e0b2544e442c0ab14172a8ee869d">set_ldt_desc</a></div><div class="ttdeci">#define set_ldt_desc(n, addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00066">system.h:66</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_a96702af0c49d089dea06401ef7c35603"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a96702af0c49d089dea06401ef7c35603">set_tss_desc</a></div><div class="ttdeci">#define set_tss_desc(n, addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00065">system.h:65</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_af0fac1cea1165b4debec7f686edf3313"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a></div><div class="ttdeci">#define EAGAIN</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00030">errno.h:30</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00052">fs.h:52</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_a326ba885b33e0ac094fec455a1ec30b3"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a326ba885b33e0ac094fec455a1ec30b3">NR_OPEN</a></div><div class="ttdeci">#define NR_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00043">fs.h:43</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2head_8h_html_a3e85239bce7eee478410603d53e53218"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2head_8h.html#a3e85239bce7eee478410603d53e53218">gdt</a></div><div class="ttdeci">desc_table gdt</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2head_8h_source.html#l00009">head.h:9</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2mm_8h_html_a6b87a284a258fa3893dc88c0fcd6f610"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2mm_8h.html#a6b87a284a258fa3893dc88c0fcd6f610">free_page</a></div><div class="ttdeci">void free_page(unsigned long addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00089">memory.c:89</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2mm_8h_html_af5beb0578c75971eb353cd8a67e9c042"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2mm_8h.html#af5beb0578c75971eb353cd8a67e9c042">get_free_page</a></div><div class="ttdeci">unsigned long get_free_page(void)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00063">memory.c:63</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a17e3f99a030e5dfefb8f9815600e3fed"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e3f99a030e5dfefb8f9815600e3fed">TASK_RUNNING</a></div><div class="ttdeci">#define TASK_RUNNING</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00019">sched.h:19</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a32ae6a90bd92bba7a7d2103b2b0662d8"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a></div><div class="ttdeci">struct task_struct * task[NR_TASKS]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00065">sched.c:65</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a37aca3305753442605b0762afa99a07e"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a37aca3305753442605b0762afa99a07e">jiffies</a></div><div class="ttdeci">long volatile jiffies</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00060">sched.c:60</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a4a720faae9986c1917541956019c8a3b"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a4a720faae9986c1917541956019c8a3b">last_task_used_math</a></div><div class="ttdeci">struct task_struct * last_task_used_math</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00063">sched.c:63</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a797095919d5e24e5dc00c4d0bbc7ec31"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a797095919d5e24e5dc00c4d0bbc7ec31">TASK_UNINTERRUPTIBLE</a></div><div class="ttdeci">#define TASK_UNINTERRUPTIBLE</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00021">sched.h:21</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_ad409b6004d0298c9d562e40fa00a9a30"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#ad409b6004d0298c9d562e40fa00a9a30">_LDT</a></div><div class="ttdeci">#define _LDT(n)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00158">sched.h:158</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_aefe0cea87f00996e61511690b95362aa"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a></div><div class="ttdeci">#define FIRST_TSS_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00155">sched.h:155</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_af64191dd71668816b0163a4f16f01946"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#af64191dd71668816b0163a4f16f01946">FIRST_LDT_ENTRY</a></div><div class="ttdeci">#define FIRST_LDT_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00156">sched.h:156</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2fork_8c_html_a3f33947b2f4a1036cd2830fa11621c57"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2fork_8c.html#a3f33947b2f4a1036cd2830fa11621c57">last_pid</a></div><div class="ttdeci">long last_pid</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2fork_8c_source.html#l00022">fork.c:22</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2fork_8c_html_a83662a2300404942511d99c80128deb1"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2fork_8c.html#a83662a2300404942511d99c80128deb1">copy_mem</a></div><div class="ttdeci">int copy_mem(int nr, struct task_struct *p)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2fork_8c_source.html#l00039">fork.c:39</a></div></div>
<div class="ttc" id="astructfile_html"><div class="ttname"><a href="structfile.html">file</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00116">fs.h:116</a></div></div>
<div class="ttc" id="astructfile_html_aa9793ad16dd2b88ad0d76cd782b0d2b7"><div class="ttname"><a href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">file::f_count</a></div><div class="ttdeci">unsigned short f_count</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00119">fs.h:119</a></div></div>
<div class="ttc" id="astructm__inode_html_a2a639e88f4a46ff1bff2078aef2f6839"><div class="ttname"><a href="structm__inode.html#a2a639e88f4a46ff1bff2078aef2f6839">m_inode::i_count</a></div><div class="ttdeci">unsigned short i_count</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00107">fs.h:107</a></div></div>
<div class="ttc" id="astructtask__struct_html"><div class="ttname"><a href="structtask__struct.html">task_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00080">sched.h:80</a></div></div>
<div class="ttc" id="astructtask__struct_html_a0e5b73ccd6d17da05b7d7b4f12840dd7"><div class="ttname"><a href="structtask__struct.html#a0e5b73ccd6d17da05b7d7b4f12840dd7">task_struct::alarm</a></div><div class="ttdeci">long alarm</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00094">sched.h:94</a></div></div>
<div class="ttc" id="astructtask__struct_html_a192ab89a0e8b299ff3fca4931e331667"><div class="ttname"><a href="structtask__struct.html#a192ab89a0e8b299ff3fca4931e331667">task_struct::pid</a></div><div class="ttdeci">long pid</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00091">sched.h:91</a></div></div>
<div class="ttc" id="astructtask__struct_html_a27d1eeb29875216c39bb586fb0b3351e"><div class="ttname"><a href="structtask__struct.html#a27d1eeb29875216c39bb586fb0b3351e">task_struct::leader</a></div><div class="ttdeci">long leader</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00091">sched.h:91</a></div></div>
<div class="ttc" id="astructtask__struct_html_a52bf129480ad1720d6672e94a8736b56"><div class="ttname"><a href="structtask__struct.html#a52bf129480ad1720d6672e94a8736b56">task_struct::signal</a></div><div class="ttdeci">long signal</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00085">sched.h:85</a></div></div>
<div class="ttc" id="astructtask__struct_html_a5bc65cf51b00bf240ba7a6e33b0dc557"><div class="ttname"><a href="structtask__struct.html#a5bc65cf51b00bf240ba7a6e33b0dc557">task_struct::start_time</a></div><div class="ttdeci">long start_time</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00095">sched.h:95</a></div></div>
<div class="ttc" id="astructtask__struct_html_a5d739e2cde5e8828a687c539076535b5"><div class="ttname"><a href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">task_struct::tss</a></div><div class="ttdeci">struct tss_struct tss</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00104">sched.h:108</a></div></div>
<div class="ttc" id="astructtask__struct_html_a66b96e2cff9937ecdba35d1787a6a099"><div class="ttname"><a href="structtask__struct.html#a66b96e2cff9937ecdba35d1787a6a099">task_struct::pwd</a></div><div class="ttdeci">struct m_inode * pwd</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00100">sched.h:100</a></div></div>
<div class="ttc" id="astructtask__struct_html_a7c764a1b0218921014431825397cdce8"><div class="ttname"><a href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">task_struct::state</a></div><div class="ttdeci">long state</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00082">sched.h:82</a></div></div>
<div class="ttc" id="astructtask__struct_html_a7e465a232e068e5bf74d8b389b8e82ed"><div class="ttname"><a href="structtask__struct.html#a7e465a232e068e5bf74d8b389b8e82ed">task_struct::root</a></div><div class="ttdeci">struct m_inode * root</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00101">sched.h:101</a></div></div>
<div class="ttc" id="astructtask__struct_html_a8193f5ec2b16adca8548c1933ea32ac4"><div class="ttname"><a href="structtask__struct.html#a8193f5ec2b16adca8548c1933ea32ac4">task_struct::priority</a></div><div class="ttdeci">long priority</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00084">sched.h:84</a></div></div>
<div class="ttc" id="astructtask__struct_html_a889eead58452db4f8a717d529db3476f"><div class="ttname"><a href="structtask__struct.html#a889eead58452db4f8a717d529db3476f">task_struct::father</a></div><div class="ttdeci">long father</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00091">sched.h:91</a></div></div>
<div class="ttc" id="astructtask__struct_html_aa93ba7dd90be4a36c8f99605d0c1c267"><div class="ttname"><a href="structtask__struct.html#aa93ba7dd90be4a36c8f99605d0c1c267">task_struct::stime</a></div><div class="ttdeci">long stime</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00095">sched.h:95</a></div></div>
<div class="ttc" id="astructtask__struct_html_abe96abb8ca23fc1652ae702a8d4ee0f1"><div class="ttname"><a href="structtask__struct.html#abe96abb8ca23fc1652ae702a8d4ee0f1">task_struct::cutime</a></div><div class="ttdeci">long cutime</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00095">sched.h:95</a></div></div>
<div class="ttc" id="astructtask__struct_html_ac67536267a42feff0b76cd421f3b7ba5"><div class="ttname"><a href="structtask__struct.html#ac67536267a42feff0b76cd421f3b7ba5">task_struct::utime</a></div><div class="ttdeci">long utime</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00095">sched.h:95</a></div></div>
<div class="ttc" id="astructtask__struct_html_ad7708e623dbbdec46f098cb287ba916f"><div class="ttname"><a href="structtask__struct.html#ad7708e623dbbdec46f098cb287ba916f">task_struct::cstime</a></div><div class="ttdeci">long cstime</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00095">sched.h:95</a></div></div>
<div class="ttc" id="astructtask__struct_html_ae07dc9ad85faa82c21f0280346eee331"><div class="ttname"><a href="structtask__struct.html#ae07dc9ad85faa82c21f0280346eee331">task_struct::executable</a></div><div class="ttdeci">struct m_inode * executable</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00102">sched.h:102</a></div></div>
<div class="ttc" id="astructtask__struct_html_ae4e1fb3352913d7090328fb14a5f1ab6"><div class="ttname"><a href="structtask__struct.html#ae4e1fb3352913d7090328fb14a5f1ab6">task_struct::counter</a></div><div class="ttdeci">long counter</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00083">sched.h:83</a></div></div>
<div class="ttc" id="astructtask__struct_html_af92b36c90c0636553c690c20ecc9553e"><div class="ttname"><a href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">task_struct::filp</a></div><div class="ttdeci">struct file * filp[NR_OPEN]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00104">sched.h:104</a></div></div>
<div class="ttc" id="astructtss__struct_html_a163f0aeea4b826476567291c0550603d"><div class="ttname"><a href="structtss__struct.html#a163f0aeea4b826476567291c0550603d">tss_struct::ecx</a></div><div class="ttdeci">long ecx</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00064">sched.h:64</a></div></div>
<div class="ttc" id="astructtss__struct_html_a1c7bbe6f65933eb827d7fd0b444cfbb0"><div class="ttname"><a href="structtss__struct.html#a1c7bbe6f65933eb827d7fd0b444cfbb0">tss_struct::ldt</a></div><div class="ttdeci">long ldt</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00075">sched.h:75</a></div></div>
<div class="ttc" id="astructtss__struct_html_a265cb916696366cd829321a36281fcff"><div class="ttname"><a href="structtss__struct.html#a265cb916696366cd829321a36281fcff">tss_struct::ebp</a></div><div class="ttdeci">long ebp</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00066">sched.h:66</a></div></div>
<div class="ttc" id="astructtss__struct_html_a2951d2f693e4bc672ef197e36be51187"><div class="ttname"><a href="structtss__struct.html#a2951d2f693e4bc672ef197e36be51187">tss_struct::ss0</a></div><div class="ttdeci">long ss0</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00056">sched.h:56</a></div></div>
<div class="ttc" id="astructtss__struct_html_a2a085ec11d3926d2fd6a26860cc5eafa"><div class="ttname"><a href="structtss__struct.html#a2a085ec11d3926d2fd6a26860cc5eafa">tss_struct::ss</a></div><div class="ttdeci">long ss</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00071">sched.h:71</a></div></div>
<div class="ttc" id="astructtss__struct_html_a2ab212d44ec13115091bdfea25c40b2d"><div class="ttname"><a href="structtss__struct.html#a2ab212d44ec13115091bdfea25c40b2d">tss_struct::back_link</a></div><div class="ttdeci">long back_link</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00054">sched.h:54</a></div></div>
<div class="ttc" id="astructtss__struct_html_a30804603b60c2c45a50672c138b8b210"><div class="ttname"><a href="structtss__struct.html#a30804603b60c2c45a50672c138b8b210">tss_struct::ds</a></div><div class="ttdeci">long ds</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00072">sched.h:72</a></div></div>
<div class="ttc" id="astructtss__struct_html_a44f1cf88dc485efc46c280331bee2f15"><div class="ttname"><a href="structtss__struct.html#a44f1cf88dc485efc46c280331bee2f15">tss_struct::edx</a></div><div class="ttdeci">long edx</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00064">sched.h:64</a></div></div>
<div class="ttc" id="astructtss__struct_html_a5278763218530acea6ed5eca281da2c7"><div class="ttname"><a href="structtss__struct.html#a5278763218530acea6ed5eca281da2c7">tss_struct::esp0</a></div><div class="ttdeci">long esp0</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00055">sched.h:55</a></div></div>
<div class="ttc" id="astructtss__struct_html_a58edc7ddd17400641060790ec8c41be2"><div class="ttname"><a href="structtss__struct.html#a58edc7ddd17400641060790ec8c41be2">tss_struct::i387</a></div><div class="ttdeci">struct i387_struct i387</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00076">sched.h:77</a></div></div>
<div class="ttc" id="astructtss__struct_html_a690779f84552e81c65f7fe7f64509ae3"><div class="ttname"><a href="structtss__struct.html#a690779f84552e81c65f7fe7f64509ae3">tss_struct::cs</a></div><div class="ttdeci">long cs</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00070">sched.h:70</a></div></div>
<div class="ttc" id="astructtss__struct_html_a8c413a9f9fba57401c6637b654e5afb7"><div class="ttname"><a href="structtss__struct.html#a8c413a9f9fba57401c6637b654e5afb7">tss_struct::gs</a></div><div class="ttdeci">long gs</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00074">sched.h:74</a></div></div>
<div class="ttc" id="astructtss__struct_html_a8ca4b066e53d0ecf1a158cfaa724de0e"><div class="ttname"><a href="structtss__struct.html#a8ca4b066e53d0ecf1a158cfaa724de0e">tss_struct::eax</a></div><div class="ttdeci">long eax</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00064">sched.h:64</a></div></div>
<div class="ttc" id="astructtss__struct_html_aa4f02717786d9775affbb21e991ff6e5"><div class="ttname"><a href="structtss__struct.html#aa4f02717786d9775affbb21e991ff6e5">tss_struct::esp</a></div><div class="ttdeci">long esp</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00065">sched.h:65</a></div></div>
<div class="ttc" id="astructtss__struct_html_aa564439ea1eabeba14b0e8b7c0b4cba5"><div class="ttname"><a href="structtss__struct.html#aa564439ea1eabeba14b0e8b7c0b4cba5">tss_struct::ebx</a></div><div class="ttdeci">long ebx</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00064">sched.h:64</a></div></div>
<div class="ttc" id="astructtss__struct_html_aa8df65f6223dbabbb80fd77639758ff9"><div class="ttname"><a href="structtss__struct.html#aa8df65f6223dbabbb80fd77639758ff9">tss_struct::fs</a></div><div class="ttdeci">long fs</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00073">sched.h:73</a></div></div>
<div class="ttc" id="astructtss__struct_html_ab17663a45d8fac3e57549f30ffdfc8c6"><div class="ttname"><a href="structtss__struct.html#ab17663a45d8fac3e57549f30ffdfc8c6">tss_struct::esi</a></div><div class="ttdeci">long esi</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00067">sched.h:67</a></div></div>
<div class="ttc" id="astructtss__struct_html_ab71e63c68ca8ca2f4fa8f9740091f387"><div class="ttname"><a href="structtss__struct.html#ab71e63c68ca8ca2f4fa8f9740091f387">tss_struct::eip</a></div><div class="ttdeci">long eip</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00062">sched.h:62</a></div></div>
<div class="ttc" id="astructtss__struct_html_aba9d2203aec95e7b103a54f61a7f26be"><div class="ttname"><a href="structtss__struct.html#aba9d2203aec95e7b103a54f61a7f26be">tss_struct::eflags</a></div><div class="ttdeci">long eflags</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00063">sched.h:63</a></div></div>
<div class="ttc" id="astructtss__struct_html_ac04a5548296792b2958d77187279ed5f"><div class="ttname"><a href="structtss__struct.html#ac04a5548296792b2958d77187279ed5f">tss_struct::trace_bitmap</a></div><div class="ttdeci">long trace_bitmap</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00076">sched.h:76</a></div></div>
<div class="ttc" id="astructtss__struct_html_aeaf5c06a6b150bd3950ea232fd9e7ad2"><div class="ttname"><a href="structtss__struct.html#aeaf5c06a6b150bd3950ea232fd9e7ad2">tss_struct::es</a></div><div class="ttdeci">long es</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00069">sched.h:69</a></div></div>
<div class="ttc" id="astructtss__struct_html_afca380fb2cf2efd7b933865ee3287faf"><div class="ttname"><a href="structtss__struct.html#afca380fb2cf2efd7b933865ee3287faf">tss_struct::edi</a></div><div class="ttdeci">long edi</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00068">sched.h:68</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flash_2Linux-0_811_2kernel_2fork_8c_ab154f2aa621bc4a2a554496a7eaa59ab_cgraph.png" border="0" usemap="#aflash_2Linux-0_811_2kernel_2fork_8c_ab154f2aa621bc4a2a554496a7eaa59ab_cgraph" alt=""/></div>
<map name="aflash_2Linux-0_811_2kernel_2fork_8c_ab154f2aa621bc4a2a554496a7eaa59ab_cgraph" id="aflash_2Linux-0_811_2kernel_2fork_8c_ab154f2aa621bc4a2a554496a7eaa59ab_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,116,209"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a83662a2300404942511d99c80128deb1" title=" " alt="" coords="174,107,269,133"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2mm_8h.html#a6b87a284a258fa3893dc88c0fcd6f610" title=" " alt="" coords="353,208,439,235"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2mm_8h.html#af5beb0578c75971eb353cd8a67e9c042" title=" " alt="" coords="164,233,279,260"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a3ff1fa1f4d832c7358ba7a038dbac76c" title=" " alt="" coords="327,56,465,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="542,157,599,184"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="687,56,747,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a235add1ba6e02ce735d70348d51b25da" title=" " alt="" coords="329,107,463,133"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#af5beb0578c75971eb353cd8a67e9c042" title=" " alt="" coords="513,56,628,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="676,157,757,184"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="805,56,877,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="930,5,1002,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="925,56,1007,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="937,107,995,133"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#a6b87a284a258fa3893dc88c0fcd6f610" title=" " alt="" coords="527,107,614,133"/>
</map>
</div>

</div>
</div>
<a id="a4f5d31cd1857855b708465812fa64642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f5d31cd1857855b708465812fa64642">&#9670;&nbsp;</a></span>find_empty_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_empty_process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html#l00136">136</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html">fork.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    repeat:</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> ((++<a class="code" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a3f33947b2f4a1036cd2830fa11621c57">last_pid</a>)&lt;0) <a class="code" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a3f33947b2f4a1036cd2830fa11621c57">last_pid</a>=1;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">for</span>(i=0 ; i&lt;<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a> ; i++)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[i] &amp;&amp; <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[i]-&gt;pid == <a class="code" href="flash_2Linux-0_811_2kernel_2fork_8c.html#a3f33947b2f4a1036cd2830fa11621c57">last_pid</a>) <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">for</span>(i=1 ; i&lt;<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a> ; i++)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[i])</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a88a8e8596ba6eca6449e368319c9c73d"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a></div><div class="ttdeci">#define NR_TASKS</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00004">sched.h:4</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8efcba841fb222026f17dff526f0aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8efcba841fb222026f17dff526f0aa7">&#9670;&nbsp;</a></span>verify_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void verify_area </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html#l00024">24</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html">fork.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a> = (<span class="keywordtype">unsigned</span> long) addr;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    size += <a class="code" href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a> &amp; 0xfff;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a> &amp;= 0xfffff000;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a> += <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a9dd1e6646ae18eb198ab5c9882b4f1a0">get_base</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">ldt</a>[2]);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">while</span> (size&gt;0) {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        size -= 4096;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <a class="code" href="flash_2Linux-0_811_2kernel_2fork_8c.html#abe18d0a2e79d311f52c8c127665239d6">write_verify</a>(<a class="code" href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a> += 4096;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2init_2main_8c_html_aedc96a40e844bc2efc8bbef1b0782702"><div class="ttname"><a href="flash_2Linux-0_811_2init_2main_8c.html#aedc96a40e844bc2efc8bbef1b0782702">start</a></div><div class="ttdeci">void start(void)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2init_2main_8c_source.html#l00104">main.c:104</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2fork_8c_html_abe18d0a2e79d311f52c8c127665239d6"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2fork_8c.html#abe18d0a2e79d311f52c8c127665239d6">write_verify</a></div><div class="ttdeci">void write_verify(unsigned long address)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00261">memory.c:261</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abe18d0a2e79d311f52c8c127665239d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe18d0a2e79d311f52c8c127665239d6">&#9670;&nbsp;</a></span>write_verify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_verify </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00261">261</a> of file <a class="el" href="flash_2Linux-0_811_2mm_2memory_8c_source.html">memory.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> page;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (!( (page = *((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) ((address&gt;&gt;20) &amp; 0xffc)) )&amp;1))</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    page &amp;= 0xfffff000;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    page += ((address&gt;&gt;10) &amp; 0xffc);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> ((3 &amp; *(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) page) == 1)  <span class="comment">/* non-writeable, present */</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#a7beb786b07c313c61111c5709391f3d3">un_wp_page</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) page);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2mm_2memory_8c_html_a7beb786b07c313c61111c5709391f3d3"><div class="ttname"><a href="flash_2Linux-0_811_2mm_2memory_8c.html#a7beb786b07c313c61111c5709391f3d3">un_wp_page</a></div><div class="ttdeci">void un_wp_page(unsigned long *table_entry)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00221">memory.c:221</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_cgraph.png" border="0" usemap="#aflash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_cgraph" alt=""/></div>
<map name="aflash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_cgraph" id="aflash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,104,57"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#a7beb786b07c313c61111c5709391f3d3" title=" " alt="" coords="152,31,255,57"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#af5beb0578c75971eb353cd8a67e9c042" title=" " alt="" coords="303,5,417,32"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#a8bc8685c6eebde3509bd55c7cf73e6d6" title=" " alt="" coords="335,56,385,83"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#ad6b4534f17cfa3172ef7d563e8fda5f2" title=" " alt="" coords="465,31,536,57"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="471,81,531,108"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="584,81,656,108"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="709,31,781,57"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="704,81,785,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="715,132,774,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_icgraph.png" border="0" usemap="#aflash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_icgraph" alt=""/></div>
<map name="aflash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_icgraph" id="aflash_2Linux-0_811_2kernel_2fork_8c_abe18d0a2e79d311f52c8c127665239d6_icgraph">
<area shape="rect" title=" " alt="" coords="455,284,553,311"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#afc318b86ebf9e88f5af7ca7077098a7f" title=" " alt="" coords="312,284,407,311"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2stat_8c.html#ae9bbfad9a19a302b82cf82046bbb524e" title=" " alt="" coords="179,31,249,57"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2signal_8c.html#a06c58d4276ef5e9e8c96309b3b635613" title=" " alt="" coords="172,81,256,108"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__ioctl_8c.html#a329f7cc69ddf54c9ed0b15bd39ce33d8" title=" " alt="" coords="167,132,261,159"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2ioctl_8c.html#a709d61416c8ec6675ca795d62495a3ae" title=" " alt="" coords="23,183,98,209"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__ioctl_8c.html#a3999b4bae89c857b1742c230d023b7c0" title=" " alt="" coords="164,233,264,260"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2signal_8c.html#a4ac17838628ac8773a5c99d8293d7c0d" title=" " alt="" coords="174,284,254,311"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2read__write_8c.html#a8ace77218f609b6282577c9cb3a8cac5" title=" " alt="" coords="174,335,254,361"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sys_8c.html#a944189ed10ed5a3ba57f0fbd09f5e79b" title=" " alt="" coords="173,385,255,412"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sys_8c.html#ab12535d66aaba5404b7101d381a43b36" title=" " alt="" coords="170,436,258,463"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sys_8c.html#a45548e3c78799983a4fd25f7d50094c3" title=" " alt="" coords="166,487,262,513"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2exit_8c.html#a69163056b363c343e0467605762db26c" title=" " alt="" coords="165,537,263,564"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2stat_8c.html#a116c0c99bed8d1246fe4ad85421b14c5" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2stat_8c.html#a8d4a37bb6cbbf7fe6db13504f67d9234" title=" " alt="" coords="23,56,99,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2signal_8c.html#ad631f34ef5e519a7bc9232a66aa43fbc" title=" " alt="" coords="5,284,116,311"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3f33947b2f4a1036cd2830fa11621c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f33947b2f4a1036cd2830fa11621c57">&#9670;&nbsp;</a></span>last_pid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long last_pid =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html#l00022">22</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c_source.html">fork.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5f030209886c7b67999d12d6726df65d.html">flash</a></li><li class="navelem"><a class="el" href="dir_f7044c11911dc827c20e6c363d58874a.html">Linux-0.11</a></li><li class="navelem"><a class="el" href="dir_3aec4733a7475d64eece6397a6421e4a.html">kernel</a></li><li class="navelem"><a class="el" href="flash_2Linux-0_811_2kernel_2fork_8c.html">fork.c</a></li>
    <li class="footer">Generated on Fri Sep 8 2023 09:28:18 for linux by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
