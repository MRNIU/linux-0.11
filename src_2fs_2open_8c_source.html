<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux: /home/runner/work/linux-0.11/linux-0.11/src/fs/open.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux
   &#160;<span id="projectnumber">0.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('src_2fs_2open_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">open.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="src_2fs_2open_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span> <span class="comment">// 字符串头文件。主要定义了一些有关字符串操作的嵌入函数。</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span>  <span class="comment">// 错误号头文件。包含系统中各种出错号.(Linus 从 MINIX 中引进的)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span>  <span class="comment">// 文件控制头文件，用于文件及其描述符的操作控制常数符号的定义。</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span>  <span class="comment">// 类型头文件。定义了基本的系统数据类型</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;utime.h&gt;</span>  <span class="comment">// 用户时间头文件。定义了访问和修改时间结构以及 utime() 原型定义。</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span> <span class="comment">// 文件状态头文件。含有文件或文件系统状态结构 stat{} 和常量</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;linux/sched.h&gt;</span> <span class="comment">// 调度程序头文件,定义任务结构 task_struct、初始任务 0 的数据</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;linux/tty.h&gt;</span>  <span class="comment">// tty 头文件，定义了有关 tty_io，串行通信方面的参数、常数。</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;linux/kernel.h&gt;</span> <span class="comment">// 内核头文件.含有一些内核常用函数的原形定义</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;asm/segment.h&gt;</span> <span class="comment">// 段操作头文件。定义了有关段寄存器操作的嵌入式汇编函数。</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// 取文件系统信息系统调用函数。</span></div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a552e3b6ec9c8891c292617c448ee1685">   14</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a552e3b6ec9c8891c292617c448ee1685">sys_ustat</a>(<span class="keywordtype">int</span> dev, <span class="keyword">struct</span> <a class="code" href="structustat.html">ustat</a> *ubuf) {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a43785b9969e0bd1af532dbde06c5540b">ENOSYS</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;}</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// 设置文件访问和修改时间。参数 filename 是文件名，times 是访问和修改时间结构指针</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// 如果 times 指针不为 NULL，则取 utimbuf 结构中的时间信息来设置文件的访问和修改时间。如果</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// times 指针是 NULL，则取系统当前时间来指定文件的访问和修改时间域。</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a501239313f8fa813f492bedfa92538a7">   21</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a501239313f8fa813f492bedfa92538a7">sys_utime</a>(<span class="keywordtype">char</span> *filename, <span class="keyword">struct</span> <a class="code" href="structutimbuf.html">utimbuf</a> *<a class="code" href="flash_2Linux-0_811_2include_2sys_2times_8h.html#ad2661655b6c01f06b0c19b0a9d7422e1">times</a>) {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keyword">struct </span><a class="code" href="structm__inode.html">m_inode</a> *inode;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordtype">long</span> actime, modtime;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="comment">// 根据文件名寻找对应的 i 节点，如果没有找到，则返回出错码</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">if</span> (!(inode = <a class="code" href="flash_2Linux-0_811_2fs_2namei_8c.html#ae192f1ee0225a7a7c86385b7bf653ac2">namei</a>(filename)))</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="comment">// 如果访问和修改时间数据结构指针不为 NULL，则从结构中读取用户设置的时间值</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2sys_2times_8h.html#ad2661655b6c01f06b0c19b0a9d7422e1">times</a>) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        actime = <a class="code" href="flash_2Linux-0_811_2include_2asm_2segment_8h.html#ab949f1c5413544f8204e5a3338655af5">get_fs_long</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) &amp;<a class="code" href="flash_2Linux-0_811_2include_2sys_2times_8h.html#ad2661655b6c01f06b0c19b0a9d7422e1">times</a>-&gt;actime);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        modtime = <a class="code" href="flash_2Linux-0_811_2include_2asm_2segment_8h.html#ab949f1c5413544f8204e5a3338655af5">get_fs_long</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) &amp;<a class="code" href="flash_2Linux-0_811_2include_2sys_2times_8h.html#ad2661655b6c01f06b0c19b0a9d7422e1">times</a>-&gt;modtime);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        actime = modtime = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a61eabc8e73414cfe55910effa8bcc4ef">CURRENT_TIME</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#a520648e8cf3857e485b6396fb4c2c048">i_atime</a> = actime;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#a14bbd28dd778926da9a6688bd1ea0fea">i_mtime</a> = modtime;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#a49ce7269d6c0e0836f6f14aed8a640f6">i_dirt</a> = 1;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// XXX shoule we use the real or effective uid? BSD uses the real uid, so as to</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// make this call useful to setuid programs.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// 文件属性 XXX，我们该用真是用户 id 还是有效用户 id？BSD 系统使用了真实用户 id，以使该调用</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// 可以供 setuid 程序使用。(注：POSIX 标准建议使用真实用户 ID)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// 检查对文件的访问权限</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// 参数 filename 是文件名，mode 使屏蔽码，由 R_OK(4), W_OK(2), X_OK(1), F_OK(0) 组成</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// 如果请求访问允许的话，则返回 0，否则返回出错码</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a9be063177c32c1c12fedb43fc223f20e">   48</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a9be063177c32c1c12fedb43fc223f20e">sys_access</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keywordtype">int</span> mode) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">struct </span><a class="code" href="structm__inode.html">m_inode</a> *inode;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">int</span> res, <a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    mode &amp;= 007; <span class="comment">// 屏蔽码由低 3 位组成，因此清楚所有高比特位</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (!(inode = <a class="code" href="flash_2Linux-0_811_2fs_2namei_8c.html#ae192f1ee0225a7a7c86385b7bf653ac2">namei</a>(filename)))  <span class="comment">// 如果文件名对应的 i 节点不存在，则返回出错码</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a> = res = inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a> &amp;= 0777; <span class="comment">// 取文件的属性码，并释放该 i 节点</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#abac0f8ffacd11e176771b03caa4b890c">uid</a> == inode-&gt;<a class="code" href="structm__inode.html#ad83b88391e00d6d78725c5b247bbe490">i_uid</a>)  <span class="comment">// 如果当前晋城市该文件的宿主，则取文件宿主属性</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        res &gt;&gt;= 6;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="comment">// 否则如果当前进程是与该文件同属一组，则取文件组属性</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#af7e5f7a28da9a65ad09fb728dc67b932">gid</a> == inode-&gt;<a class="code" href="structm__inode.html#acc04fc74f923841f8b6083284a6e1884">i_gid</a>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        res &gt;&gt;= 6;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// 如果文件属性具有查询的属性位，则访问许可，返回 0</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> ((res &amp; 007 &amp; mode) == mode)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// XXX we are doing this test last because we really should be swapping the</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// effective with the real user id (temporarily), and then calling suser()</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// routine. If we do call the suser() routine, it needs to be called last.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// 我们最后才对 XXX 做下面的测试，因为我们实际上需要交换有效用户 id 和真实用户 id(临时地)，</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// 然后才调用 suser() 函数。如果我们确实要调用 suser() 函数，则需要最后才被调用</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// 如果当前用户 id 为 0(超级用户)并且屏蔽码执行位是 0 或文件可以被任何人访问，则返回 0</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> ((!<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#abac0f8ffacd11e176771b03caa4b890c">uid</a>) &amp;&amp; (!(mode &amp; 1) || (<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a> &amp; 0111)))</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a>; <span class="comment">// 否则返回此出错码</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// 改变当前工作目录系统调用函数。参数 filename 是目录名。</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// 操作成功则返回 0，否则返回出错码</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a837b903fbb61e1e7f5f3b6fe75cddcea">   79</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a837b903fbb61e1e7f5f3b6fe75cddcea">sys_chdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">struct </span><a class="code" href="structm__inode.html">m_inode</a> *inode;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// 如果文件名对应的 i 节点不存在，则返回出错码</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (!(inode = <a class="code" href="flash_2Linux-0_811_2fs_2namei_8c.html#ae192f1ee0225a7a7c86385b7bf653ac2">namei</a>(filename)))</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// 若果该 i 节点不是目录的 i 节点，则释放该 i 节点，返回出错码。</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flash_2Linux-0_811_2include_2sys_2stat_8h.html#a70b64ed67c0ab484b4ba09487da34e91">S_ISDIR</a>(inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a>)) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// 释放当前进程工作目录 i 节点，并指向该新置的工作目录 i 节点。返回 0.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a66b96e2cff9937ecdba35d1787a6a099">pwd</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a66b96e2cff9937ecdba35d1787a6a099">pwd</a> = inode;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// 改变根目录系统调用函数。将制定的路径名改为根目录 &#39;/&#39;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">// 如果操作成功则返回 0，否则返回出错码</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#aa1b3b6fd527147d503d81563d606f6a1">   97</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#aa1b3b6fd527147d503d81563d606f6a1">sys_chroot</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">struct </span><a class="code" href="structm__inode.html">m_inode</a> *inode;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// 如果文件名对应的 i 节点不存在，则返回出错码</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (!(inode = <a class="code" href="flash_2Linux-0_811_2fs_2namei_8c.html#ae192f1ee0225a7a7c86385b7bf653ac2">namei</a>(filename)))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// 如果该 i 节点不是目录的 i 节点，则释放该节点，返回出错码。</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flash_2Linux-0_811_2include_2sys_2stat_8h.html#a70b64ed67c0ab484b4ba09487da34e91">S_ISDIR</a>(inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a>)) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a9262fb92f7ef662d0bdd577912a5b101">ENOTDIR</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a7e465a232e068e5bf74d8b389b8e82ed">root</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a7e465a232e068e5bf74d8b389b8e82ed">root</a> = inode;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> (0);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#ab1034e286b88da9661927f127cb51ba7">  112</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#ab1034e286b88da9661927f127cb51ba7">sys_chmod</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keywordtype">int</span> mode) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">struct </span><a class="code" href="structm__inode.html">m_inode</a> *inode;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (!(inode = <a class="code" href="flash_2Linux-0_811_2fs_2namei_8c.html#ae192f1ee0225a7a7c86385b7bf653ac2">namei</a>(filename)))</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a6b38eba448cc0f45a2b49404daf0c52e">euid</a> != inode-&gt;<a class="code" href="structm__inode.html#ad83b88391e00d6d78725c5b247bbe490">i_uid</a>) &amp;&amp; !<a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a5d24ff825aa1cd0a0faeec64b45d3318">suser</a>()) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a> = (mode &amp; 07777) | (inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a> &amp; ~07777);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#a49ce7269d6c0e0836f6f14aed8a640f6">i_dirt</a> = 1;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">// 修改文件宿主系统调用函数。参数 filename 是文件名，uid 时用户标示符(用户 id)，gid 是组 id</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// 若操作成功则返回 0，否则返回出错码</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a762bca791b54ecba3696f76c6184204d">  129</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a762bca791b54ecba3696f76c6184204d">sys_chown</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keywordtype">int</span> uid, <span class="keywordtype">int</span> gid) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">struct </span><a class="code" href="structm__inode.html">m_inode</a> *inode;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// 如果文件名对应的 i 节点不存在，则返回出错码</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (!(inode == <a class="code" href="flash_2Linux-0_811_2fs_2namei_8c.html#ae192f1ee0225a7a7c86385b7bf653ac2">namei</a>(filename)))</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a5d24ff825aa1cd0a0faeec64b45d3318">suser</a>()) { <span class="comment">// 若当前进程不是超级用户，则释放该 i 节点，返回出错码</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// 设置文件对应 i 节点的用户 id 和组 id，并置 i 节点已经修改标志，释放该 i 节点，返回 0</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#ad83b88391e00d6d78725c5b247bbe490">i_uid</a> = uid;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#acc04fc74f923841f8b6083284a6e1884">i_gid</a> = gid;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    inode-&gt;<a class="code" href="structm__inode.html#a49ce7269d6c0e0836f6f14aed8a640f6">i_dirt</a> = 1;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// 打开(或创建)文件系统调用函数</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// 参数 filename 是文件名，flag 是打开文件标志: 只读 O_RDONLY, 只写 O_WRONLY 或读写 O_RDWR,</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// 以及 O_CREAT, O_EXECL, O_APPEND 等其它一些标志的组合，若本函数创建了一个新文件，则 mode</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">// 用于指定使用文件的许可属性，这些属性有 S_IRWXU(文件宿主具有读写和执行权限)，S_IRUSR(用户</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">// 具有读文件权限)，S_IRWXG(组成员具有读写和执行权限)等等。对于新创建的文件，这些属性只应用于</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">// 将来对文件的访问，创建了只读文件的打开调用也将返回一个可读写的文件句柄。若操作成功则返回文件句柄</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// (文件描述符)，否则返回出错码(参见 sys/stat.h, fcntl.h)</span></div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a710bd8fc9f99d575d34e7fb7e64c8c09">  153</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a710bd8fc9f99d575d34e7fb7e64c8c09">sys_open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keywordtype">int</span> flag, <span class="keywordtype">int</span> mode) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">struct </span><a class="code" href="structm__inode.html">m_inode</a> *inode;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfile.html">file</a> *f;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">int</span> i, fd;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// 将用户设置的模式与进程的模式屏蔽码相与，产生许可的文件模式</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    mode &amp;= 0777 &amp; ~<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#abf43499dd7c78bfaee0fdc3fc0d94488">umask</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// 搜索进程结构中文件结构指针数组，查找一个空闲项，若已经没有空闲项，则返回出错码</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">for</span> (fd = 0; fd &lt; <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a326ba885b33e0ac094fec455a1ec30b3">NR_OPEN</a>; fd++)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">filp</a>[fd])</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (fd &gt;= <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a326ba885b33e0ac094fec455a1ec30b3">NR_OPEN</a>)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// 设置执行时关闭文件句柄位图，复位对应比特位</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a65cb0581945505aa48056c7d27549d0b">close_on_exec</a> &amp;= ~(1 &lt;&lt; fd);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">// 令 f 指向文件表数组开始处，搜索空闲文件结构项(句柄引用计数为 0 的项)，若已经没有空闲文件</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// 表结构项，则返回出错码</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    f = 0 + <a class="code" href="flash_2Linux-0_811_2fs_2file__table_8c.html#ad8a0a8efe57313ad9d7359e5653ed901">file_table</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a13d1daac91a4ebfc4511bbe85d15d360">NR_FILE</a>; i++, f++)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">if</span> (!f-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a>)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (i &gt; <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a13d1daac91a4ebfc4511bbe85d15d360">NR_FILE</a>)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// 让进程的对应文件句柄的文件结构指针指向走索到的文件结构，并令句柄引用计数递增 1</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">filp</a>[fd] = f)-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a>++;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// 调用函数执行打开操作，若返回值小于 0，则说明出错，释放刚申请到的文件结构，返回出错码</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> ((i = <a class="code" href="flash_2Linux-0_811_2fs_2namei_8c.html#ad08df58f033bd23ea1315499d697a3b0">open_namei</a>(filename, flag, mode, &amp;inode)) &lt; 0) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">filp</a>[fd] = <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        f-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a> = 0;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// ttys are somewhat special (ttyxx mafor==4, tty major==5)</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// ttys 有些特殊(ttyxx 主号==4，tty 主号==5)</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// 如果是字符设备文件，那么如果设备号是 4 的话，则设置当前进程的 tty 号为该 i 节点的子设备号</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// 并设置当前进程 tty 对应的 tty 表项的符进程组号等于进程的父进程组号</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2sys_2stat_8h.html#a767b5d0691f435f8a9b7f5e0fa97a645">S_ISCHR</a>(inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a>))</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#ad46638abb143d7f2f6df36789c92f720">MAJOR</a>(inode-&gt;<a class="code" href="structm__inode.html#ab5259e1fa50415a968e5558ca2e92d9f">i_zone</a>[0]) == 4) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a27d1eeb29875216c39bb586fb0b3351e">leader</a> &amp;&amp; <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a5bbd97dd49b96e0dfdb883366554538e">tty</a> &lt; 0) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a5bbd97dd49b96e0dfdb883366554538e">tty</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a90c981f077e8797694a25fb755de7d0f">MINOR</a>(inode-&gt;<a class="code" href="structm__inode.html#ab5259e1fa50415a968e5558ca2e92d9f">i_zone</a>[0]);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <a class="code" href="flash_2Linux-0_811_2include_2linux_2tty_8h.html#aa109788d183a1ef0d1e29454236ae332">tty_table</a>[<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a5bbd97dd49b96e0dfdb883366554538e">tty</a>].<a class="code" href="structtty__struct.html#a70ff434d0bb918d58530f77220f18a1c">pgrp</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#aee874f2168a479500c00b59a14d617ad">pgrp</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="comment">// 否则，如果该字符文件设备号是 5 的话，若当前进程没有 tty，则说明出错，释放 i 节点和申请到</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="comment">// 的文件结构，返回出错码</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#ad46638abb143d7f2f6df36789c92f720">MAJOR</a>(inode-&gt;<a class="code" href="structm__inode.html#ab5259e1fa50415a968e5558ca2e92d9f">i_zone</a>[0]) == 5)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a5bbd97dd49b96e0dfdb883366554538e">tty</a> &lt; 0) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(inode);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">filp</a>[fd] = <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                f-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a> = 0;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#add669d31505a077f769cff8e66c780b3">EPERM</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Likewise with block-devices: check for floppy_change</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// 同样对于块设备文件：需要检查盘片是否被更换</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// 若是块设备文件，则检查盘片是否更换，若更滑则需要让高速缓冲中对应设备的所有缓冲块失效</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2sys_2stat_8h.html#a722eba7370eb3b0aafb3272182e08520">S_ISBLK</a>(inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a>))</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a53eefc9fcd3ae0cc20ec6eeea2dd6d44">check_disk_change</a>(inode-&gt;<a class="code" href="structm__inode.html#ab5259e1fa50415a968e5558ca2e92d9f">i_zone</a>[0]);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// 初始化文件结构。置文件结构属性和标志，置句柄引用计数为 1，设置 i 节点字段，文件读写指针</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// 初始化为 0. 返回文件句柄。</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    f-&gt;<a class="code" href="structfile.html#a50349f1577219a65b6e8d66d7e5eb284">f_mode</a> = inode-&gt;<a class="code" href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">i_mode</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    f-&gt;<a class="code" href="structfile.html#a5d18f1d6ca2c48152cf4b9c30624dcca">f_flags</a> = flag;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    f-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a> = 1;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    f-&gt;<a class="code" href="structfile.html#ae57c18a676dcd6ef788b20512bd995e3">f_inode</a> = inode;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    f-&gt;<a class="code" href="structfile.html#a4bbfba4214dd3a75980bca8efd104183">f_pos</a> = 0;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span> fd;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">// 创建文件系统调用函数。参数 pathname 是路径名，mode与上面的 sys_open() 函数相同</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">// 成功则返回文件句柄，否则返回出错码</span></div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a97da1b73b641350471360707e39ed5f6">  220</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a97da1b73b641350471360707e39ed5f6">sys_creat</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *pathname, <span class="keywordtype">int</span> mode) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a710bd8fc9f99d575d34e7fb7e64c8c09">sys_open</a>(pathname, <a class="code" href="flash_2Linux-0_811_2include_2fcntl_8h.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a> | <a class="code" href="flash_2Linux-0_811_2include_2fcntl_8h.html#ad1d67e453fb3031f40f8cd3403773813">O_TRUNC</a>, mode);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">// 关闭文件系统调用函数。参数 fd 是文件句柄。成功则返回 0，否则返回出错码</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="src_2fs_2open_8c.html#a186ae5192f6afb2ec4fcd93cb592031d">  225</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flash_2Linux-0_811_2fs_2open_8c.html#a186ae5192f6afb2ec4fcd93cb592031d">sys_close</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fd) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfile.html">file</a> *filp;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// 若文件句柄值大于程序同时能打开的文件数，则返回出错码</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (fd &gt;= <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a326ba885b33e0ac094fec455a1ec30b3">NR_OPEN</a>)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a65cb0581945505aa48056c7d27549d0b">close_on_exec</a> &amp;= ~(1 &lt;&lt; fd); <span class="comment">// 复位进程的执行时关闭文件句柄位图对应位</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// 若该文件句柄对应的文件结构指针是 NULL，则返回出错码</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (!(filp = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">filp</a>[fd]))</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="flash_2Linux-0_811_2include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">filp</a>[fd] = <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (filp-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a> == 0)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;Close: file count is 0&quot;</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// 否则将对应文件结构的句柄引用计数减 1，如果不为 0，则返回 0(成功)。若已等于 0，则说明该文件</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// 已经没有句柄引用，则释放该文件 i 节点，返回 0</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (--filp-&gt;<a class="code" href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">f_count</a>)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a>(filp-&gt;<a class="code" href="structfile.html#ae57c18a676dcd6ef788b20512bd995e3">f_inode</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2buffer_8c_html_a53eefc9fcd3ae0cc20ec6eeea2dd6d44"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2buffer_8c.html#a53eefc9fcd3ae0cc20ec6eeea2dd6d44">check_disk_change</a></div><div class="ttdeci">void check_disk_change(int dev)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2buffer_8c_source.html#l00116">buffer.c:116</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2file__table_8c_html_ad8a0a8efe57313ad9d7359e5653ed901"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2file__table_8c.html#ad8a0a8efe57313ad9d7359e5653ed901">file_table</a></div><div class="ttdeci">struct file file_table[NR_FILE]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2file__table_8c_source.html#l00001">file_table.c:9</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2inode_8c_html_afa76e75f45af948cbb6e5da444038f40"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40">iput</a></div><div class="ttdeci">void iput(struct m_inode *inode)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2inode_8c_source.html#l00150">inode.c:150</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2namei_8c_html_ad08df58f033bd23ea1315499d697a3b0"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2namei_8c.html#ad08df58f033bd23ea1315499d697a3b0">open_namei</a></div><div class="ttdeci">int open_namei(const char *pathname, int flag, int mode, struct m_inode **res_inode)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2namei_8c_source.html#l00337">namei.c:337</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2namei_8c_html_ae192f1ee0225a7a7c86385b7bf653ac2"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2namei_8c.html#ae192f1ee0225a7a7c86385b7bf653ac2">namei</a></div><div class="ttdeci">struct m_inode * namei(const char *pathname)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2namei_8c_source.html#l00303">namei.c:303</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a186ae5192f6afb2ec4fcd93cb592031d"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a186ae5192f6afb2ec4fcd93cb592031d">sys_close</a></div><div class="ttdeci">int sys_close(unsigned int fd)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00194">open.c:194</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a501239313f8fa813f492bedfa92538a7"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a501239313f8fa813f492bedfa92538a7">sys_utime</a></div><div class="ttdeci">int sys_utime(char *filename, struct utimbuf *times)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00024">open.c:24</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a552e3b6ec9c8891c292617c448ee1685"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a552e3b6ec9c8891c292617c448ee1685">sys_ustat</a></div><div class="ttdeci">int sys_ustat(int dev, struct ustat *ubuf)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00019">open.c:19</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a710bd8fc9f99d575d34e7fb7e64c8c09"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a710bd8fc9f99d575d34e7fb7e64c8c09">sys_open</a></div><div class="ttdeci">int sys_open(const char *filename, int flag, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00138">open.c:138</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a762bca791b54ecba3696f76c6184204d"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a762bca791b54ecba3696f76c6184204d">sys_chown</a></div><div class="ttdeci">int sys_chown(const char *filename, int uid, int gid)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00121">open.c:121</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a837b903fbb61e1e7f5f3b6fe75cddcea"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a837b903fbb61e1e7f5f3b6fe75cddcea">sys_chdir</a></div><div class="ttdeci">int sys_chdir(const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00075">open.c:75</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a97da1b73b641350471360707e39ed5f6"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a97da1b73b641350471360707e39ed5f6">sys_creat</a></div><div class="ttdeci">int sys_creat(const char *pathname, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00189">open.c:189</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_a9be063177c32c1c12fedb43fc223f20e"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#a9be063177c32c1c12fedb43fc223f20e">sys_access</a></div><div class="ttdeci">int sys_access(const char *filename, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00047">open.c:47</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_aa1b3b6fd527147d503d81563d606f6a1"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#aa1b3b6fd527147d503d81563d606f6a1">sys_chroot</a></div><div class="ttdeci">int sys_chroot(const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00090">open.c:90</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2fs_2open_8c_html_ab1034e286b88da9661927f127cb51ba7"><div class="ttname"><a href="flash_2Linux-0_811_2fs_2open_8c.html#ab1034e286b88da9661927f127cb51ba7">sys_chmod</a></div><div class="ttdeci">int sys_chmod(const char *filename, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2open_8c_source.html#l00105">open.c:105</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2segment_8h_html_ab949f1c5413544f8204e5a3338655af5"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2segment_8h.html#ab949f1c5413544f8204e5a3338655af5">get_fs_long</a></div><div class="ttdeci">static unsigned long get_fs_long(const unsigned long *addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2segment_8h_source.html#l00017">segment.h:17</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_a03e689f378f643d16ea7537918528a48"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a></div><div class="ttdeci">#define ENOENT</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00021">errno.h:21</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_a2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00041">errno.h:41</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_a43785b9969e0bd1af532dbde06c5540b"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#a43785b9969e0bd1af532dbde06c5540b">ENOSYS</a></div><div class="ttdeci">#define ENOSYS</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00057">errno.h:57</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_a9262fb92f7ef662d0bdd577912a5b101"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#a9262fb92f7ef662d0bdd577912a5b101">ENOTDIR</a></div><div class="ttdeci">#define ENOTDIR</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00039">errno.h:39</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_ac2a2e9fa555401f94478f74e01868032"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a></div><div class="ttdeci">#define EACCES</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00032">errno.h:32</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2errno_8h_html_add669d31505a077f769cff8e66c780b3"><div class="ttname"><a href="flash_2Linux-0_811_2include_2errno_8h.html#add669d31505a077f769cff8e66c780b3">EPERM</a></div><div class="ttdeci">#define EPERM</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2errno_8h_source.html#l00020">errno.h:20</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2fcntl_8h_html_a1cf6b1de1fffedaa1d26b189e9a8d2cc"><div class="ttname"><a href="flash_2Linux-0_811_2include_2fcntl_8h.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a></div><div class="ttdeci">#define O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2fcntl_8h_source.html#l00011">fcntl.h:11</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2fcntl_8h_html_ad1d67e453fb3031f40f8cd3403773813"><div class="ttname"><a href="flash_2Linux-0_811_2include_2fcntl_8h.html#ad1d67e453fb3031f40f8cd3403773813">O_TRUNC</a></div><div class="ttdeci">#define O_TRUNC</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2fcntl_8h_source.html#l00014">fcntl.h:14</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00052">fs.h:52</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_a13d1daac91a4ebfc4511bbe85d15d360"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a13d1daac91a4ebfc4511bbe85d15d360">NR_FILE</a></div><div class="ttdeci">#define NR_FILE</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00045">fs.h:45</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_a326ba885b33e0ac094fec455a1ec30b3"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a326ba885b33e0ac094fec455a1ec30b3">NR_OPEN</a></div><div class="ttdeci">#define NR_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00043">fs.h:43</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_a90c981f077e8797694a25fb755de7d0f"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a90c981f077e8797694a25fb755de7d0f">MINOR</a></div><div class="ttdeci">#define MINOR(a)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00034">fs.h:34</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_ad46638abb143d7f2f6df36789c92f720"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#ad46638abb143d7f2f6df36789c92f720">MAJOR</a></div><div class="ttdeci">#define MAJOR(a)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00033">fs.h:33</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2kernel_8h_html_a5d24ff825aa1cd0a0faeec64b45d3318"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a5d24ff825aa1cd0a0faeec64b45d3318">suser</a></div><div class="ttdeci">#define suser()</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2kernel_8h_source.html#l00021">kernel.h:21</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2kernel_8h_html_ab43c5eded9a063f60e583332eaa73258"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a></div><div class="ttdeci">volatile void panic(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2panic_8c_source.html#l00018">panic.c:18</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a476ec09a598028a09942c2233aa5127e"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a></div><div class="ttdeci">struct task_struct * current</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00062">sched.c:62</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a61eabc8e73414cfe55910effa8bcc4ef"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a61eabc8e73414cfe55910effa8bcc4ef">CURRENT_TIME</a></div><div class="ttdeci">#define CURRENT_TIME</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00144">sched.h:144</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2tty_8h_html_aa109788d183a1ef0d1e29454236ae332"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2tty_8h.html#aa109788d183a1ef0d1e29454236ae332">tty_table</a></div><div class="ttdeci">struct tty_struct tty_table[]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00001">tty_io.c:51</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2sys_2stat_8h_html_a70b64ed67c0ab484b4ba09487da34e91"><div class="ttname"><a href="flash_2Linux-0_811_2include_2sys_2stat_8h.html#a70b64ed67c0ab484b4ba09487da34e91">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(m)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2sys_2stat_8h_source.html#l00031">stat.h:31</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2sys_2stat_8h_html_a722eba7370eb3b0aafb3272182e08520"><div class="ttname"><a href="flash_2Linux-0_811_2include_2sys_2stat_8h.html#a722eba7370eb3b0aafb3272182e08520">S_ISBLK</a></div><div class="ttdeci">#define S_ISBLK(m)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2sys_2stat_8h_source.html#l00033">stat.h:33</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2sys_2stat_8h_html_a767b5d0691f435f8a9b7f5e0fa97a645"><div class="ttname"><a href="flash_2Linux-0_811_2include_2sys_2stat_8h.html#a767b5d0691f435f8a9b7f5e0fa97a645">S_ISCHR</a></div><div class="ttdeci">#define S_ISCHR(m)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2sys_2stat_8h_source.html#l00032">stat.h:32</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2sys_2times_8h_html_ad2661655b6c01f06b0c19b0a9d7422e1"><div class="ttname"><a href="flash_2Linux-0_811_2include_2sys_2times_8h.html#ad2661655b6c01f06b0c19b0a9d7422e1">times</a></div><div class="ttdeci">time_t times(struct tms *tp)</div></div>
<div class="ttc" id="astructfile_html"><div class="ttname"><a href="structfile.html">file</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00116">fs.h:116</a></div></div>
<div class="ttc" id="astructfile_html_a4bbfba4214dd3a75980bca8efd104183"><div class="ttname"><a href="structfile.html#a4bbfba4214dd3a75980bca8efd104183">file::f_pos</a></div><div class="ttdeci">off_t f_pos</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00121">fs.h:121</a></div></div>
<div class="ttc" id="astructfile_html_a50349f1577219a65b6e8d66d7e5eb284"><div class="ttname"><a href="structfile.html#a50349f1577219a65b6e8d66d7e5eb284">file::f_mode</a></div><div class="ttdeci">unsigned short f_mode</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00117">fs.h:117</a></div></div>
<div class="ttc" id="astructfile_html_a5d18f1d6ca2c48152cf4b9c30624dcca"><div class="ttname"><a href="structfile.html#a5d18f1d6ca2c48152cf4b9c30624dcca">file::f_flags</a></div><div class="ttdeci">unsigned short f_flags</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00118">fs.h:118</a></div></div>
<div class="ttc" id="astructfile_html_aa9793ad16dd2b88ad0d76cd782b0d2b7"><div class="ttname"><a href="structfile.html#aa9793ad16dd2b88ad0d76cd782b0d2b7">file::f_count</a></div><div class="ttdeci">unsigned short f_count</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00119">fs.h:119</a></div></div>
<div class="ttc" id="astructfile_html_ae57c18a676dcd6ef788b20512bd995e3"><div class="ttname"><a href="structfile.html#ae57c18a676dcd6ef788b20512bd995e3">file::f_inode</a></div><div class="ttdeci">struct m_inode * f_inode</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00120">fs.h:120</a></div></div>
<div class="ttc" id="astructm__inode_html"><div class="ttname"><a href="structm__inode.html">m_inode</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00093">fs.h:93</a></div></div>
<div class="ttc" id="astructm__inode_html_a14bbd28dd778926da9a6688bd1ea0fea"><div class="ttname"><a href="structm__inode.html#a14bbd28dd778926da9a6688bd1ea0fea">m_inode::i_mtime</a></div><div class="ttdeci">unsigned long i_mtime</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00097">fs.h:97</a></div></div>
<div class="ttc" id="astructm__inode_html_a49ce7269d6c0e0836f6f14aed8a640f6"><div class="ttname"><a href="structm__inode.html#a49ce7269d6c0e0836f6f14aed8a640f6">m_inode::i_dirt</a></div><div class="ttdeci">unsigned char i_dirt</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00109">fs.h:109</a></div></div>
<div class="ttc" id="astructm__inode_html_a520648e8cf3857e485b6396fb4c2c048"><div class="ttname"><a href="structm__inode.html#a520648e8cf3857e485b6396fb4c2c048">m_inode::i_atime</a></div><div class="ttdeci">unsigned long i_atime</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00103">fs.h:103</a></div></div>
<div class="ttc" id="astructm__inode_html_a8e7ad442dc54bb004462f2e82609ee06"><div class="ttname"><a href="structm__inode.html#a8e7ad442dc54bb004462f2e82609ee06">m_inode::i_mode</a></div><div class="ttdeci">unsigned short i_mode</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00094">fs.h:94</a></div></div>
<div class="ttc" id="astructm__inode_html_ab5259e1fa50415a968e5558ca2e92d9f"><div class="ttname"><a href="structm__inode.html#ab5259e1fa50415a968e5558ca2e92d9f">m_inode::i_zone</a></div><div class="ttdeci">unsigned short i_zone[9]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00100">fs.h:100</a></div></div>
<div class="ttc" id="astructm__inode_html_acc04fc74f923841f8b6083284a6e1884"><div class="ttname"><a href="structm__inode.html#acc04fc74f923841f8b6083284a6e1884">m_inode::i_gid</a></div><div class="ttdeci">unsigned char i_gid</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00098">fs.h:98</a></div></div>
<div class="ttc" id="astructm__inode_html_ad83b88391e00d6d78725c5b247bbe490"><div class="ttname"><a href="structm__inode.html#ad83b88391e00d6d78725c5b247bbe490">m_inode::i_uid</a></div><div class="ttdeci">unsigned short i_uid</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00095">fs.h:95</a></div></div>
<div class="ttc" id="astructtask__struct_html_a27d1eeb29875216c39bb586fb0b3351e"><div class="ttname"><a href="structtask__struct.html#a27d1eeb29875216c39bb586fb0b3351e">task_struct::leader</a></div><div class="ttdeci">long leader</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00091">sched.h:91</a></div></div>
<div class="ttc" id="astructtask__struct_html_a5bbd97dd49b96e0dfdb883366554538e"><div class="ttname"><a href="structtask__struct.html#a5bbd97dd49b96e0dfdb883366554538e">task_struct::tty</a></div><div class="ttdeci">int tty</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00098">sched.h:98</a></div></div>
<div class="ttc" id="astructtask__struct_html_a65cb0581945505aa48056c7d27549d0b"><div class="ttname"><a href="structtask__struct.html#a65cb0581945505aa48056c7d27549d0b">task_struct::close_on_exec</a></div><div class="ttdeci">unsigned long close_on_exec</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00103">sched.h:103</a></div></div>
<div class="ttc" id="astructtask__struct_html_a66b96e2cff9937ecdba35d1787a6a099"><div class="ttname"><a href="structtask__struct.html#a66b96e2cff9937ecdba35d1787a6a099">task_struct::pwd</a></div><div class="ttdeci">struct m_inode * pwd</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00100">sched.h:100</a></div></div>
<div class="ttc" id="astructtask__struct_html_a6b38eba448cc0f45a2b49404daf0c52e"><div class="ttname"><a href="structtask__struct.html#a6b38eba448cc0f45a2b49404daf0c52e">task_struct::euid</a></div><div class="ttdeci">unsigned short euid</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00092">sched.h:92</a></div></div>
<div class="ttc" id="astructtask__struct_html_a7e465a232e068e5bf74d8b389b8e82ed"><div class="ttname"><a href="structtask__struct.html#a7e465a232e068e5bf74d8b389b8e82ed">task_struct::root</a></div><div class="ttdeci">struct m_inode * root</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00101">sched.h:101</a></div></div>
<div class="ttc" id="astructtask__struct_html_abac0f8ffacd11e176771b03caa4b890c"><div class="ttname"><a href="structtask__struct.html#abac0f8ffacd11e176771b03caa4b890c">task_struct::uid</a></div><div class="ttdeci">unsigned short uid</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00092">sched.h:92</a></div></div>
<div class="ttc" id="astructtask__struct_html_abf43499dd7c78bfaee0fdc3fc0d94488"><div class="ttname"><a href="structtask__struct.html#abf43499dd7c78bfaee0fdc3fc0d94488">task_struct::umask</a></div><div class="ttdeci">unsigned short umask</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00099">sched.h:99</a></div></div>
<div class="ttc" id="astructtask__struct_html_aee874f2168a479500c00b59a14d617ad"><div class="ttname"><a href="structtask__struct.html#aee874f2168a479500c00b59a14d617ad">task_struct::pgrp</a></div><div class="ttdeci">long pgrp</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00091">sched.h:91</a></div></div>
<div class="ttc" id="astructtask__struct_html_af7e5f7a28da9a65ad09fb728dc67b932"><div class="ttname"><a href="structtask__struct.html#af7e5f7a28da9a65ad09fb728dc67b932">task_struct::gid</a></div><div class="ttdeci">unsigned short gid</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00093">sched.h:93</a></div></div>
<div class="ttc" id="astructtask__struct_html_af92b36c90c0636553c690c20ecc9553e"><div class="ttname"><a href="structtask__struct.html#af92b36c90c0636553c690c20ecc9553e">task_struct::filp</a></div><div class="ttdeci">struct file * filp[NR_OPEN]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00104">sched.h:104</a></div></div>
<div class="ttc" id="astructtty__struct_html_a70ff434d0bb918d58530f77220f18a1c"><div class="ttname"><a href="structtty__struct.html#a70ff434d0bb918d58530f77220f18a1c">tty_struct::pgrp</a></div><div class="ttdeci">int pgrp</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2tty_8h_source.html#l00047">tty.h:47</a></div></div>
<div class="ttc" id="astructustat_html"><div class="ttname"><a href="structustat.html">ustat</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2sys_2types_8h_source.html#l00039">types.h:39</a></div></div>
<div class="ttc" id="astructutimbuf_html"><div class="ttname"><a href="structutimbuf.html">utimbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2utime_8h_source.html#l00006">utime.h:6</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_7d71b6c457a61cbf03a04bfdc57b6110.html">fs</a></li><li class="navelem"><a class="el" href="src_2fs_2open_8c.html">open.c</a></li>
    <li class="footer">Generated on Wed Sep 13 2023 00:50:57 for linux by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
