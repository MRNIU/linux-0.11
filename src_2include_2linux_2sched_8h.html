<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux: /home/runner/work/linux-0.11/linux-0.11/src/include/linux/sched.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux
   &#160;<span id="projectnumber">0.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('src_2include_2linux_2sched_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sched.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/head.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sched.h:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h__incl.png" border="0" usemap="#a_2home_2runner_2work_2linux-0_811_2linux-0_811_2src_2include_2linux_2sched_8h" alt=""/></div>
<map name="a_2home_2runner_2work_2linux-0_811_2linux-0_811_2src_2include_2linux_2sched_8h" id="a_2home_2runner_2work_2linux-0_811_2linux-0_811_2src_2include_2linux_2sched_8h">
<area shape="rect" title=" " alt="" coords="131,5,329,61"/>
<area shape="rect" title=" " alt="" coords="5,109,108,136"/>
<area shape="rect" title=" " alt="" coords="133,109,215,136"/>
<area shape="rect" title=" " alt="" coords="239,109,335,136"/>
<area shape="rect" title=" " alt="" coords="360,109,433,136"/>
</map>
</div>
</div>
<p><a href="src_2include_2linux_2sched_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi387__struct.html">i387_struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtss__struct.html">tss_struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__struct.html">task_struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a88a8e8596ba6eca6449e368319c9c73d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a88a8e8596ba6eca6449e368319c9c73d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8489802eaedf42fdb5f2ce1708eaffa2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a8489802eaedf42fdb5f2ce1708eaffa2">HZ</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a8489802eaedf42fdb5f2ce1708eaffa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c8eecdb7a88d11553137a71d7c2cc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a34c8eecdb7a88d11553137a71d7c2cc3">FIRST_TASK</a>&#160;&#160;&#160;<a class="el" href="src_2kernel_2sched_8c.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[0]</td></tr>
<tr class="separator:a34c8eecdb7a88d11553137a71d7c2cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc4ed73e97cde0df36d05d8075614f17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#abc4ed73e97cde0df36d05d8075614f17">LAST_TASK</a>&#160;&#160;&#160;<a class="el" href="src_2kernel_2sched_8c.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[<a class="el" href="src_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>-1]</td></tr>
<tr class="separator:abc4ed73e97cde0df36d05d8075614f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e3f99a030e5dfefb8f9815600e3fed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a17e3f99a030e5dfefb8f9815600e3fed">TASK_RUNNING</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a17e3f99a030e5dfefb8f9815600e3fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f52c913830b57c112a0d33a1daf587d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a8f52c913830b57c112a0d33a1daf587d">TASK_INTERRUPTIBLE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a8f52c913830b57c112a0d33a1daf587d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797095919d5e24e5dc00c4d0bbc7ec31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a797095919d5e24e5dc00c4d0bbc7ec31">TASK_UNINTERRUPTIBLE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a797095919d5e24e5dc00c4d0bbc7ec31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88316d4f858f89f5facc75f0efa1dc74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a88316d4f858f89f5facc75f0efa1dc74">TASK_ZOMBIE</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a88316d4f858f89f5facc75f0efa1dc74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2e4edf473fed254987a9a07c72a680"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a7d2e4edf473fed254987a9a07c72a680">TASK_STOPPED</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a7d2e4edf473fed254987a9a07c72a680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070d2ce7b6bb7e5c05602aa8c308d0c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>&#160;&#160;&#160;((void *) 0)</td></tr>
<tr class="separator:a070d2ce7b6bb7e5c05602aa8c308d0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5b2a7a38d56a68c5c86d94ac594db6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a0a5b2a7a38d56a68c5c86d94ac594db6">INIT_TASK</a></td></tr>
<tr class="separator:a0a5b2a7a38d56a68c5c86d94ac594db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61eabc8e73414cfe55910effa8bcc4ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a61eabc8e73414cfe55910effa8bcc4ef">CURRENT_TIME</a>&#160;&#160;&#160;(<a class="el" href="src_2kernel_2sched_8c.html#a39b7cd6026b7abf239ace8f11306e205">startup_time</a>+<a class="el" href="src_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a>/<a class="el" href="src_2include_2linux_2sched_8h.html#a8489802eaedf42fdb5f2ce1708eaffa2">HZ</a>)</td></tr>
<tr class="separator:a61eabc8e73414cfe55910effa8bcc4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe0cea87f00996e61511690b95362aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aefe0cea87f00996e61511690b95362aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64191dd71668816b0163a4f16f01946"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#af64191dd71668816b0163a4f16f01946">FIRST_LDT_ENTRY</a>&#160;&#160;&#160;(<a class="el" href="src_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>+1)</td></tr>
<tr class="separator:af64191dd71668816b0163a4f16f01946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0deb34f451c674a8a8669ef61953f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#aba0deb34f451c674a8a8669ef61953f7">_TSS</a>(n)&#160;&#160;&#160;((((unsigned long) n)&lt;&lt;4)+(<a class="el" href="src_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>&lt;&lt;3))</td></tr>
<tr class="separator:aba0deb34f451c674a8a8669ef61953f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad409b6004d0298c9d562e40fa00a9a30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#ad409b6004d0298c9d562e40fa00a9a30">_LDT</a>(n)&#160;&#160;&#160;((((unsigned long) n)&lt;&lt;4)+(<a class="el" href="src_2include_2linux_2sched_8h.html#af64191dd71668816b0163a4f16f01946">FIRST_LDT_ENTRY</a>&lt;&lt;3))</td></tr>
<tr class="separator:ad409b6004d0298c9d562e40fa00a9a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042a0680c2ba18df1a0eba940a01fc20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a042a0680c2ba18df1a0eba940a01fc20">ltr</a>(n)&#160;&#160;&#160;__asm__(&quot;ltr %%ax&quot;::&quot;<a class="el" href="src_2kernel_2sched_8c.html#a528b92115c4bb60d7b46de7e09ea0bae">a</a>&quot; (_TSS(n)))</td></tr>
<tr class="separator:a042a0680c2ba18df1a0eba940a01fc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab09146d15a36413c5cf62b229f21111a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#ab09146d15a36413c5cf62b229f21111a">lldt</a>(n)&#160;&#160;&#160;__asm__(&quot;lldt %%ax&quot;::&quot;<a class="el" href="src_2kernel_2sched_8c.html#a528b92115c4bb60d7b46de7e09ea0bae">a</a>&quot; (_LDT(n)))</td></tr>
<tr class="separator:ab09146d15a36413c5cf62b229f21111a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb27b2d46d74c1332e524ba031aa7b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a6eb27b2d46d74c1332e524ba031aa7b7">str</a>(n)</td></tr>
<tr class="separator:a6eb27b2d46d74c1332e524ba031aa7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444a341396090a8e0b8c52736b08bb42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a444a341396090a8e0b8c52736b08bb42">switch_to</a>(n)</td></tr>
<tr class="separator:a444a341396090a8e0b8c52736b08bb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2519654c38b93672c6bd0e2a4b18bc8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a2519654c38b93672c6bd0e2a4b18bc8b">PAGE_ALIGN</a>(n)&#160;&#160;&#160;(((n)+0xfff)&amp;0xfffff000)</td></tr>
<tr class="separator:a2519654c38b93672c6bd0e2a4b18bc8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9190bc0e6b9753788b195d9072836bb6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a9190bc0e6b9753788b195d9072836bb6">_set_base</a>(addr,  <a class="el" href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a>)</td></tr>
<tr class="separator:a9190bc0e6b9753788b195d9072836bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcdc10abfdfae9a99ade4f7f93df6adb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#abcdc10abfdfae9a99ade4f7f93df6adb">_set_limit</a>(addr,  limit)</td></tr>
<tr class="separator:abcdc10abfdfae9a99ade4f7f93df6adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9887960d03859332cb310a3e349868ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a9887960d03859332cb310a3e349868ba">set_base</a>(ldt,  <a class="el" href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a>)&#160;&#160;&#160;<a class="el" href="src_2include_2linux_2sched_8h.html#a9190bc0e6b9753788b195d9072836bb6">_set_base</a>( ((char *)&amp;(ldt)) , (<a class="el" href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a>) )</td></tr>
<tr class="separator:a9887960d03859332cb310a3e349868ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40c3f8a435558dd656837b6f59093d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#ab40c3f8a435558dd656837b6f59093d2">set_limit</a>(ldt,  limit)&#160;&#160;&#160;<a class="el" href="src_2include_2linux_2sched_8h.html#abcdc10abfdfae9a99ade4f7f93df6adb">_set_limit</a>( ((char *)&amp;(ldt)) , (limit-1)&gt;&gt;12 )</td></tr>
<tr class="separator:ab40c3f8a435558dd656837b6f59093d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd1e6646ae18eb198ab5c9882b4f1a0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a9dd1e6646ae18eb198ab5c9882b4f1a0">get_base</a>(ldt)&#160;&#160;&#160;<a class="el" href="src_2include_2linux_2sched_8h.html#abc94552768d52021da94d543ddb8503d">_get_base</a>( ((char *)&amp;(ldt)) )</td></tr>
<tr class="separator:a9dd1e6646ae18eb198ab5c9882b4f1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e07a3b0c01ae08bc0fe1136c24a092"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a17e07a3b0c01ae08bc0fe1136c24a092">get_limit</a>(segment)</td></tr>
<tr class="separator:a17e07a3b0c01ae08bc0fe1136c24a092"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a33dc340d171d77f2e8245a6620f7ce6c"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a33dc340d171d77f2e8245a6620f7ce6c">fn_ptr</a>) ()</td></tr>
<tr class="separator:a33dc340d171d77f2e8245a6620f7ce6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3ff1fa1f4d832c7358ba7a038dbac76c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a3ff1fa1f4d832c7358ba7a038dbac76c">copy_page_tables</a> (unsigned long from, unsigned long to, long size)</td></tr>
<tr class="separator:a3ff1fa1f4d832c7358ba7a038dbac76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235add1ba6e02ce735d70348d51b25da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a235add1ba6e02ce735d70348d51b25da">free_page_tables</a> (unsigned long from, unsigned long size)</td></tr>
<tr class="separator:a235add1ba6e02ce735d70348d51b25da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76f0bd4fbafc057a2f780869968e3ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#ac76f0bd4fbafc057a2f780869968e3ed">sched_init</a> (void)</td></tr>
<tr class="separator:ac76f0bd4fbafc057a2f780869968e3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48128e72b303ea22d8ec641a9516b15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#ac48128e72b303ea22d8ec641a9516b15">schedule</a> (void)</td></tr>
<tr class="separator:ac48128e72b303ea22d8ec641a9516b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd306118b826212968bc1f2d4045f61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a7fd306118b826212968bc1f2d4045f61">trap_init</a> (void)</td></tr>
<tr class="separator:a7fd306118b826212968bc1f2d4045f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43c5eded9a063f60e583332eaa73258"><td class="memItemLeft" align="right" valign="top">volatile void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a> (const char *<a class="el" href="src_2include_2linux_2sched_8h.html#a6eb27b2d46d74c1332e524ba031aa7b7">str</a>)</td></tr>
<tr class="separator:ab43c5eded9a063f60e583332eaa73258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9eded591fff3c631ee7551c468f5f71"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#ac9eded591fff3c631ee7551c468f5f71">tty_write</a> (unsigned minor, char *<a class="el" href="src_2kernel_2printk_8c.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>, int <a class="el" href="src_2fs_2exec_8c.html#ad90bdec45596b60ad4a6e7fc0d669bd4">count</a>)</td></tr>
<tr class="separator:ac9eded591fff3c631ee7551c468f5f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ad73535a475aee9be4dd47decb2344"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#af3ad73535a475aee9be4dd47decb2344">add_timer</a> (long <a class="el" href="src_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a>, void(*fn)(void))</td></tr>
<tr class="separator:af3ad73535a475aee9be4dd47decb2344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee0eea1a206d256d223fd33292ddb5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a8ee0eea1a206d256d223fd33292ddb5d">sleep_on</a> (struct <a class="el" href="structtask__struct.html">task_struct</a> **p)</td></tr>
<tr class="separator:a8ee0eea1a206d256d223fd33292ddb5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7f1f0c2e37cb25f642125fb32ffcec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a1e7f1f0c2e37cb25f642125fb32ffcec">interruptible_sleep_on</a> (struct <a class="el" href="structtask__struct.html">task_struct</a> **p)</td></tr>
<tr class="separator:a1e7f1f0c2e37cb25f642125fb32ffcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6d90b147b8d600062919f0220600f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#add6d90b147b8d600062919f0220600f4">wake_up</a> (struct <a class="el" href="structtask__struct.html">task_struct</a> **p)</td></tr>
<tr class="separator:add6d90b147b8d600062919f0220600f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc94552768d52021da94d543ddb8503d"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#abc94552768d52021da94d543ddb8503d">_get_base</a> (char *addr)</td></tr>
<tr class="separator:abc94552768d52021da94d543ddb8503d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a32ae6a90bd92bba7a7d2103b2b0662d8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtask__struct.html">task_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a> [<a class="el" href="src_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>]</td></tr>
<tr class="separator:a32ae6a90bd92bba7a7d2103b2b0662d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a720faae9986c1917541956019c8a3b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtask__struct.html">task_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a4a720faae9986c1917541956019c8a3b">last_task_used_math</a></td></tr>
<tr class="separator:a4a720faae9986c1917541956019c8a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476ec09a598028a09942c2233aa5127e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtask__struct.html">task_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a></td></tr>
<tr class="separator:a476ec09a598028a09942c2233aa5127e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37aca3305753442605b0762afa99a07e"><td class="memItemLeft" align="right" valign="top">long volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a37aca3305753442605b0762afa99a07e">jiffies</a></td></tr>
<tr class="separator:a37aca3305753442605b0762afa99a07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b7cd6026b7abf239ace8f11306e205"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2include_2linux_2sched_8h.html#a39b7cd6026b7abf239ace8f11306e205">startup_time</a></td></tr>
<tr class="separator:a39b7cd6026b7abf239ace8f11306e205"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad409b6004d0298c9d562e40fa00a9a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad409b6004d0298c9d562e40fa00a9a30">&#9670;&nbsp;</a></span>_LDT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _LDT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;((((unsigned long) n)&lt;&lt;4)+(<a class="el" href="src_2include_2linux_2sched_8h.html#af64191dd71668816b0163a4f16f01946">FIRST_LDT_ENTRY</a>&lt;&lt;3))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00158">158</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a9190bc0e6b9753788b195d9072836bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9190bc0e6b9753788b195d9072836bb6">&#9670;&nbsp;</a></span>_set_base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _set_base</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">__asm__ (<span class="stringliteral">&quot;push %%edx\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;movw %%dx,%0\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;rorl $16,%%edx\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;movb %%dl,%1\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;movb %%dh,%2\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;pop %%edx&quot;</span> \</div>
<div class="line">    ::<span class="stringliteral">&quot;m&quot;</span> (*((addr)+2)), \</div>
<div class="line">     <span class="stringliteral">&quot;m&quot;</span> (*((addr)+4)), \</div>
<div class="line">     <span class="stringliteral">&quot;m&quot;</span> (*((addr)+7)), \</div>
<div class="line">     <span class="stringliteral">&quot;d&quot;</span> (<a class="code" href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a>) \</div>
<div class="line">    )</div>
<div class="ttc" id="aTrans_8cpp_html_ab43a5b10c2bc104ddd909a4cf11d6d6a"><div class="ttname"><a href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a></div><div class="ttdeci">void * base</div><div class="ttdef"><b>Definition:</b> <a href="Trans_8cpp_source.html#l00044">Trans.cpp:44</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00190">190</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="abcdc10abfdfae9a99ade4f7f93df6adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcdc10abfdfae9a99ade4f7f93df6adb">&#9670;&nbsp;</a></span>_set_limit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _set_limit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">limit&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">__asm__ (<span class="stringliteral">&quot;push %%edx\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;movw %%dx,%0\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;rorl $16,%%edx\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;movb %1,%%dh\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;andb $0xf0,%%dh\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;orb %%dh,%%dl\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;movb %%dl,%1\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;pop %%edx&quot;</span> \</div>
<div class="line">    ::<span class="stringliteral">&quot;m&quot;</span> (*(addr)), \</div>
<div class="line">     <span class="stringliteral">&quot;m&quot;</span> (*((addr)+6)), \</div>
<div class="line">     <span class="stringliteral">&quot;d&quot;</span> (limit) \</div>
<div class="line">    )</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00203">203</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="aba0deb34f451c674a8a8669ef61953f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba0deb34f451c674a8a8669ef61953f7">&#9670;&nbsp;</a></span>_TSS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _TSS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;((((unsigned long) n)&lt;&lt;4)+(<a class="el" href="src_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>&lt;&lt;3))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00157">157</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a61eabc8e73414cfe55910effa8bcc4ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61eabc8e73414cfe55910effa8bcc4ef">&#9670;&nbsp;</a></span>CURRENT_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CURRENT_TIME&#160;&#160;&#160;(<a class="el" href="src_2kernel_2sched_8c.html#a39b7cd6026b7abf239ace8f11306e205">startup_time</a>+<a class="el" href="src_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a>/<a class="el" href="src_2include_2linux_2sched_8h.html#a8489802eaedf42fdb5f2ce1708eaffa2">HZ</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00144">144</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="af64191dd71668816b0163a4f16f01946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af64191dd71668816b0163a4f16f01946">&#9670;&nbsp;</a></span>FIRST_LDT_ENTRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRST_LDT_ENTRY&#160;&#160;&#160;(<a class="el" href="src_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>+1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00156">156</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a34c8eecdb7a88d11553137a71d7c2cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c8eecdb7a88d11553137a71d7c2cc3">&#9670;&nbsp;</a></span>FIRST_TASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRST_TASK&#160;&#160;&#160;<a class="el" href="src_2kernel_2sched_8c.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[0]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00007">7</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="aefe0cea87f00996e61511690b95362aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefe0cea87f00996e61511690b95362aa">&#9670;&nbsp;</a></span>FIRST_TSS_ENTRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRST_TSS_ENTRY&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00155">155</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a9dd1e6646ae18eb198ab5c9882b4f1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd1e6646ae18eb198ab5c9882b4f1a0">&#9670;&nbsp;</a></span>get_base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_base</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ldt</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="src_2include_2linux_2sched_8h.html#abc94552768d52021da94d543ddb8503d">_get_base</a>( ((char *)&amp;(ldt)) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00249">249</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a17e07a3b0c01ae08bc0fe1136c24a092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e07a3b0c01ae08bc0fe1136c24a092">&#9670;&nbsp;</a></span>get_limit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_limit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">segment</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div>
<div class="line">unsigned <span class="keywordtype">long</span> __limit; \</div>
<div class="line">__asm__(<span class="stringliteral">&quot;lsll %1,%0\n\tincl %0&quot;</span>:<span class="stringliteral">&quot;=r&quot;</span> (__limit):<span class="stringliteral">&quot;r&quot;</span> (segment)); \</div>
<div class="line">__limit;})</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00251">251</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a8489802eaedf42fdb5f2ce1708eaffa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8489802eaedf42fdb5f2ce1708eaffa2">&#9670;&nbsp;</a></span>HZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HZ&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00005">5</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a0a5b2a7a38d56a68c5c86d94ac594db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5b2a7a38d56a68c5c86d94ac594db6">&#9670;&nbsp;</a></span>INIT_TASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INIT_TASK</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* state etc */</span> { 0,15,15, \</div>
<div class="line"><span class="comment">/* signals */</span>   0,{{},},0, \</div>
<div class="line"><span class="comment">/* ec,brk... */</span> 0,0,0,0,0,0, \</div>
<div class="line"><span class="comment">/* pid etc.. */</span> 0,-1,0,0,0, \</div>
<div class="line"><span class="comment">/* uid etc */</span>   0,0,0,0,0,0, \</div>
<div class="line"><span class="comment">/* alarm */</span> 0,0,0,0,0,0, \</div>
<div class="line"><span class="comment">/* math */</span>  0, \</div>
<div class="line"><span class="comment">/* fs info */</span>   -1,0022,<a class="code" href="src_2include_2linux_2sched_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,<a class="code" href="src_2include_2linux_2sched_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,<a class="code" href="src_2include_2linux_2sched_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,0, \</div>
<div class="line"><span class="comment">/* filp */</span>  {<a class="code" href="src_2include_2linux_2sched_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,}, \</div>
<div class="line">    { \</div>
<div class="line">        {0,0}, \</div>
<div class="line"><span class="comment">/* ldt */</span>   {0x9f,0xc0fa00}, \</div>
<div class="line">        {0x9f,0xc0f200}, \</div>
<div class="line">    }, \</div>
<div class="line"><span class="comment">/*tss*/</span> {0,<a class="code" href="flash_2Linux-0_811_2include_2a_8out_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>+(long)&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a8b614e45abc3e58768258131fceae7bd">init_task</a>,0x10,0,0,0,0,(<span class="keywordtype">long</span>)&amp;<a class="code" href="flash_2Linux-0_811_2include_2linux_2head_8h.html#ada02d969a3cb97ba8ac8d43334498cab">pg_dir</a>,\</div>
<div class="line">     0,0,0,0,0,0,0,0, \</div>
<div class="line">     0,0,0x17,0x17,0x17,0x17,0x17,0x17, \</div>
<div class="line">     _LDT(0),0x80000000, \</div>
<div class="line">        {} \</div>
<div class="line">    }, \</div>
<div class="line">}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2a_8out_8h_html_a7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="flash_2Linux-0_811_2include_2a_8out_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2a_8out_8h_source.html#l00092">a.out.h:92</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2head_8h_html_ada02d969a3cb97ba8ac8d43334498cab"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2head_8h.html#ada02d969a3cb97ba8ac8d43334498cab">pg_dir</a></div><div class="ttdeci">unsigned long pg_dir[1024]</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a8b614e45abc3e58768258131fceae7bd"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a8b614e45abc3e58768258131fceae7bd">init_task</a></div><div class="ttdeci">static union task_union init_task</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00051">sched.c:58</a></div></div>
<div class="ttc" id="asrc_2include_2linux_2sched_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="src_2include_2linux_2sched_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="src_2include_2linux_2sched_8h_source.html#l00026">sched.h:26</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00115">115</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="abc4ed73e97cde0df36d05d8075614f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4ed73e97cde0df36d05d8075614f17">&#9670;&nbsp;</a></span>LAST_TASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAST_TASK&#160;&#160;&#160;<a class="el" href="src_2kernel_2sched_8c.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[<a class="el" href="src_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>-1]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00008">8</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="ab09146d15a36413c5cf62b229f21111a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab09146d15a36413c5cf62b229f21111a">&#9670;&nbsp;</a></span>lldt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lldt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;__asm__(&quot;lldt %%ax&quot;::&quot;<a class="el" href="src_2kernel_2sched_8c.html#a528b92115c4bb60d7b46de7e09ea0bae">a</a>&quot; (_LDT(n)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00160">160</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a042a0680c2ba18df1a0eba940a01fc20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042a0680c2ba18df1a0eba940a01fc20">&#9670;&nbsp;</a></span>ltr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ltr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;__asm__(&quot;ltr %%ax&quot;::&quot;<a class="el" href="src_2kernel_2sched_8c.html#a528b92115c4bb60d7b46de7e09ea0bae">a</a>&quot; (_TSS(n)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00159">159</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a88a8e8596ba6eca6449e368319c9c73d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a8e8596ba6eca6449e368319c9c73d">&#9670;&nbsp;</a></span>NR_TASKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NR_TASKS&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00004">4</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a070d2ce7b6bb7e5c05602aa8c308d0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070d2ce7b6bb7e5c05602aa8c308d0c4">&#9670;&nbsp;</a></span>NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NULL&#160;&#160;&#160;((void *) 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00026">26</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a2519654c38b93672c6bd0e2a4b18bc8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2519654c38b93672c6bd0e2a4b18bc8b">&#9670;&nbsp;</a></span>PAGE_ALIGN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ALIGN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;(((n)+0xfff)&amp;0xfffff000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00188">188</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a9887960d03859332cb310a3e349868ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9887960d03859332cb310a3e349868ba">&#9670;&nbsp;</a></span>set_base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define set_base</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ldt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="src_2include_2linux_2sched_8h.html#a9190bc0e6b9753788b195d9072836bb6">_set_base</a>( ((char *)&amp;(ldt)) , (<a class="el" href="Trans_8cpp.html#ab43a5b10c2bc104ddd909a4cf11d6d6a">base</a>) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00217">217</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="ab40c3f8a435558dd656837b6f59093d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40c3f8a435558dd656837b6f59093d2">&#9670;&nbsp;</a></span>set_limit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define set_limit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ldt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">limit&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="src_2include_2linux_2sched_8h.html#abcdc10abfdfae9a99ade4f7f93df6adb">_set_limit</a>( ((char *)&amp;(ldt)) , (limit-1)&gt;&gt;12 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00218">218</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a6eb27b2d46d74c1332e524ba031aa7b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eb27b2d46d74c1332e524ba031aa7b7">&#9670;&nbsp;</a></span>str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define str</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">__asm__(<span class="stringliteral">&quot;str %%ax\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;subl %2,%%eax\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;shrl $4,%%eax&quot;</span> \</div>
<div class="line">    :<span class="stringliteral">&quot;=a&quot;</span> (n) \</div>
<div class="line">    :<span class="stringliteral">&quot;a&quot;</span> (0),<span class="stringliteral">&quot;i&quot;</span> (<a class="code" href="src_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>&lt;&lt;3))</div>
<div class="ttc" id="asrc_2include_2linux_2sched_8h_html_aefe0cea87f00996e61511690b95362aa"><div class="ttname"><a href="src_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a></div><div class="ttdeci">#define FIRST_TSS_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="src_2include_2linux_2sched_8h_source.html#l00155">sched.h:155</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00161">161</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a444a341396090a8e0b8c52736b08bb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a444a341396090a8e0b8c52736b08bb42">&#9670;&nbsp;</a></span>switch_to</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define switch_to</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{\</div>
<div class="line">struct {<span class="keywordtype">long</span> <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a528b92115c4bb60d7b46de7e09ea0bae">a</a>,<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a14c92240a8c7badaaa4e18952e560053">b</a>;} __tmp; \</div>
<div class="line">__asm__(<span class="stringliteral">&quot;cmpl %%ecx,current\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;je 1f\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;movw %%dx,%1\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;xchgl %%ecx,current\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;ljmp *%0\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;cmpl %%ecx,last_task_used_math\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;jne 1f\n\t&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;clts\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;1:&quot;</span> \</div>
<div class="line">    ::<span class="stringliteral">&quot;m&quot;</span> (*&amp;__tmp.a),<span class="stringliteral">&quot;m&quot;</span> (*&amp;__tmp.b), \</div>
<div class="line">    <span class="stringliteral">&quot;d&quot;</span> (<a class="code" href="src_2include_2linux_2sched_8h.html#aba0deb34f451c674a8a8669ef61953f7">_TSS</a>(n)),<span class="stringliteral">&quot;c&quot;</span> ((<span class="keywordtype">long</span>) <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[n])); \</div>
<div class="line">}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a32ae6a90bd92bba7a7d2103b2b0662d8"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a></div><div class="ttdeci">struct task_struct * task[NR_TASKS]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00065">sched.c:65</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a14c92240a8c7badaaa4e18952e560053"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a14c92240a8c7badaaa4e18952e560053">b</a></div><div class="ttdeci">short b</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00071">sched.c:71</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a528b92115c4bb60d7b46de7e09ea0bae"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a528b92115c4bb60d7b46de7e09ea0bae">a</a></div><div class="ttdeci">long * a</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00070">sched.c:70</a></div></div>
<div class="ttc" id="asrc_2include_2linux_2sched_8h_html_aba0deb34f451c674a8a8669ef61953f7"><div class="ttname"><a href="src_2include_2linux_2sched_8h.html#aba0deb34f451c674a8a8669ef61953f7">_TSS</a></div><div class="ttdeci">#define _TSS(n)</div><div class="ttdef"><b>Definition:</b> <a href="src_2include_2linux_2sched_8h_source.html#l00157">sched.h:157</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00173">173</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a8f52c913830b57c112a0d33a1daf587d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f52c913830b57c112a0d33a1daf587d">&#9670;&nbsp;</a></span>TASK_INTERRUPTIBLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_INTERRUPTIBLE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00020">20</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a17e3f99a030e5dfefb8f9815600e3fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e3f99a030e5dfefb8f9815600e3fed">&#9670;&nbsp;</a></span>TASK_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_RUNNING&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00019">19</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a7d2e4edf473fed254987a9a07c72a680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d2e4edf473fed254987a9a07c72a680">&#9670;&nbsp;</a></span>TASK_STOPPED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_STOPPED&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00023">23</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a797095919d5e24e5dc00c4d0bbc7ec31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797095919d5e24e5dc00c4d0bbc7ec31">&#9670;&nbsp;</a></span>TASK_UNINTERRUPTIBLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_UNINTERRUPTIBLE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00021">21</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<a id="a88316d4f858f89f5facc75f0efa1dc74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88316d4f858f89f5facc75f0efa1dc74">&#9670;&nbsp;</a></span>TASK_ZOMBIE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_ZOMBIE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00022">22</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a33dc340d171d77f2e8245a6620f7ce6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33dc340d171d77f2e8245a6620f7ce6c">&#9670;&nbsp;</a></span>fn_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* fn_ptr) ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00040">40</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abc94552768d52021da94d543ddb8503d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc94552768d52021da94d543ddb8503d">&#9670;&nbsp;</a></span>_get_base()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long _get_base </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>#define _get_base(addr) ({\ unsigned long <b>base; \ __asm</b>("movb %3,%%dh\n\t" \ "movb %2,%%dl\n\t" \ "shll $16,%%edx\n\t" \ "movw %1,%%dx" \ :"=d" (__base) \ :"m" (*((addr)+2)), \ "m" (*((addr)+4)), \ "m" (*((addr)+7)) \ :"memory"); \ __base;}) </p>

<p class="definition">Definition at line <a class="el" href="src_2include_2linux_2sched_8h_source.html#l00235">235</a> of file <a class="el" href="src_2include_2linux_2sched_8h_source.html">sched.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> __base;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;         __asm__(<span class="stringliteral">&quot;movb %3,%%dh\n\t&quot;</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                 <span class="stringliteral">&quot;movb %2,%%dl\n\t&quot;</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                 <span class="stringliteral">&quot;shll $16,%%edx\n\t&quot;</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                 <span class="stringliteral">&quot;movw %1,%%dx&quot;</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                 :<span class="stringliteral">&quot;=&amp;d&quot;</span> (__base)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                 :<span class="stringliteral">&quot;m&quot;</span> (*((addr)+2)),</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                  <span class="stringliteral">&quot;m&quot;</span> (*((addr)+4)),</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                  <span class="stringliteral">&quot;m&quot;</span> (*((addr)+7)));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         <span class="keywordflow">return</span> __base;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af3ad73535a475aee9be4dd47decb2344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ad73535a475aee9be4dd47decb2344">&#9670;&nbsp;</a></span>add_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_timer </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>jiffies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00272">272</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtimer__list.html">timer_list</a> * p;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a>)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a68c330e94fe121eba993e5a5973c3162">cli</a>();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a> &lt;= 0)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        (<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a>)();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">for</span> (p = <a class="code" href="structtimer__list.html">timer_list</a> ; p &lt; <a class="code" href="structtimer__list.html">timer_list</a> + <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ae4db57ef4cd102bbe3b7f5aab2991fca">TIME_REQUESTS</a> ; p++)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> (p &gt;= <a class="code" href="structtimer__list.html">timer_list</a> + <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ae4db57ef4cd102bbe3b7f5aab2991fca">TIME_REQUESTS</a>)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;No more time requests free&quot;</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        p-&gt;<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a> = <a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        p-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a> = <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a> = <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a4a2fd6a6a4ad81747ab920eb87fe1549">next_timer</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a4a2fd6a6a4ad81747ab920eb87fe1549">next_timer</a> = p;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">while</span> (p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a> &amp;&amp; p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a>-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a> &lt; p-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a>) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            p-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a> -= p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a>-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a> = p-&gt;<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            p-&gt;<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a> = p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a>-&gt;<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a>-&gt;<a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a> = <a class="code" href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">fn</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a> = p-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            p-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a> = p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a>-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a>-&gt;<a class="code" href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">jiffies</a> = <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            p = p-&gt;<a class="code" href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">next</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#ac5d15f274bc9b1e96230f3d3c60fd1f8">sti</a>();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_a68c330e94fe121eba993e5a5973c3162"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a68c330e94fe121eba993e5a5973c3162">cli</a></div><div class="ttdeci">#define cli()</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00017">system.h:17</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_ac5d15f274bc9b1e96230f3d3c60fd1f8"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#ac5d15f274bc9b1e96230f3d3c60fd1f8">sti</a></div><div class="ttdeci">#define sti()</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00016">system.h:16</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2kernel_8h_html_ab43c5eded9a063f60e583332eaa73258"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a></div><div class="ttdeci">volatile void panic(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2panic_8c_source.html#l00018">panic.c:18</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a37aca3305753442605b0762afa99a07e"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a></div><div class="ttdeci">long volatile jiffies</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00060">sched.c:60</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a4a2fd6a6a4ad81747ab920eb87fe1549"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a4a2fd6a6a4ad81747ab920eb87fe1549">next_timer</a></div><div class="ttdeci">static struct timer_list * next_timer[TIME_REQUESTS]</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_ae4db57ef4cd102bbe3b7f5aab2991fca"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#ae4db57ef4cd102bbe3b7f5aab2991fca">TIME_REQUESTS</a></div><div class="ttdeci">#define TIME_REQUESTS</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00264">sched.c:264</a></div></div>
<div class="ttc" id="astructtimer__list_html"><div class="ttname"><a href="structtimer__list.html">timer_list</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00266">sched.c:266</a></div></div>
<div class="ttc" id="astructtimer__list_html_a1f38700f99736f413d82a540274aa4db"><div class="ttname"><a href="structtimer__list.html#a1f38700f99736f413d82a540274aa4db">timer_list::next</a></div><div class="ttdeci">struct timer_list * next</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00269">sched.c:269</a></div></div>
<div class="ttc" id="astructtimer__list_html_a41385c11cefcf1bc7073d053c70428c9"><div class="ttname"><a href="structtimer__list.html#a41385c11cefcf1bc7073d053c70428c9">timer_list::jiffies</a></div><div class="ttdeci">long jiffies</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00267">sched.c:267</a></div></div>
<div class="ttc" id="astructtimer__list_html_a9da59c5e81cd532fc11bdb8945cefbc5"><div class="ttname"><a href="structtimer__list.html#a9da59c5e81cd532fc11bdb8945cefbc5">timer_list::fn</a></div><div class="ttdeci">void(* fn)()</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00268">sched.c:268</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_af3ad73535a475aee9be4dd47decb2344_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_af3ad73535a475aee9be4dd47decb2344_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_af3ad73535a475aee9be4dd47decb2344_cgraph" id="asrc_2include_2linux_2sched_8h_af3ad73535a475aee9be4dd47decb2344_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,93,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="141,81,199,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="257,56,317,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="247,107,328,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="376,56,448,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="501,5,573,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="496,56,577,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="507,107,566,133"/>
</map>
</div>

</div>
</div>
<a id="a3ff1fa1f4d832c7358ba7a038dbac76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff1fa1f4d832c7358ba7a038dbac76c">&#9670;&nbsp;</a></span>copy_page_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int copy_page_tables </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00150">150</a> of file <a class="el" href="flash_2Linux-0_811_2mm_2memory_8c_source.html">memory.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> * from_page_table;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> * to_page_table;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> this_page;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> * from_dir, * to_dir;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nr;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> ((from&amp;0x3fffff) || (to&amp;0x3fffff))</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;copy_page_tables called with wrong alignment&quot;</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    from_dir = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) ((from&gt;&gt;20) &amp; 0xffc); <span class="comment">/* _pg_dir = 0 */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    to_dir = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) ((to&gt;&gt;20) &amp; 0xffc);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    size = ((unsigned) (size+0x3fffff)) &gt;&gt; 22;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">for</span>( ; size--&gt;0 ; from_dir++,to_dir++) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> (1 &amp; *to_dir)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;copy_page_tables: already exist&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (!(1 &amp; *from_dir))</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        from_page_table = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) (0xfffff000 &amp; *from_dir);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> (!(to_page_table = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#af5beb0578c75971eb353cd8a67e9c042">get_free_page</a>()))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">return</span> -1;  <span class="comment">/* Out of memory, see freeing */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        *to_dir = ((<span class="keywordtype">unsigned</span> long) to_page_table) | 7;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        nr = (from==0)?0xA0:1024;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">for</span> ( ; nr-- &gt; 0 ; from_page_table++,to_page_table++) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            this_page = *from_page_table;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keywordflow">if</span> (!(1 &amp; this_page))</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            this_page &amp;= ~2;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            *to_page_table = this_page;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">if</span> (this_page &gt; <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#a33546c633e25fbc31ba28c4419b37af4">LOW_MEM</a>) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                *from_page_table = this_page;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                this_page -= <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#a33546c633e25fbc31ba28c4419b37af4">LOW_MEM</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                this_page &gt;&gt;= 12;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#a55d0a3018dfecd08963844523d3d4b64">mem_map</a>[this_page]++;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#acf7d1d4e3ad496402dd3b5fbe365105d">invalidate</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2mm_2memory_8c_html_a33546c633e25fbc31ba28c4419b37af4"><div class="ttname"><a href="flash_2Linux-0_811_2mm_2memory_8c.html#a33546c633e25fbc31ba28c4419b37af4">LOW_MEM</a></div><div class="ttdeci">#define LOW_MEM</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00043">memory.c:43</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2mm_2memory_8c_html_a55d0a3018dfecd08963844523d3d4b64"><div class="ttname"><a href="flash_2Linux-0_811_2mm_2memory_8c.html#a55d0a3018dfecd08963844523d3d4b64">mem_map</a></div><div class="ttdeci">static unsigned char mem_map[PAGING_PAGES]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00057">memory.c:57</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2mm_2memory_8c_html_acf7d1d4e3ad496402dd3b5fbe365105d"><div class="ttname"><a href="flash_2Linux-0_811_2mm_2memory_8c.html#acf7d1d4e3ad496402dd3b5fbe365105d">invalidate</a></div><div class="ttdeci">#define invalidate()</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00039">memory.c:39</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2mm_2memory_8c_html_af5beb0578c75971eb353cd8a67e9c042"><div class="ttname"><a href="flash_2Linux-0_811_2mm_2memory_8c.html#af5beb0578c75971eb353cd8a67e9c042">get_free_page</a></div><div class="ttdeci">unsigned long get_free_page(void)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00063">memory.c:63</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_a3ff1fa1f4d832c7358ba7a038dbac76c_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_a3ff1fa1f4d832c7358ba7a038dbac76c_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_a3ff1fa1f4d832c7358ba7a038dbac76c_cgraph" id="asrc_2include_2linux_2sched_8h_a3ff1fa1f4d832c7358ba7a038dbac76c_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,144,83"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#af5beb0578c75971eb353cd8a67e9c042" title=" " alt="" coords="192,31,307,57"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="221,81,278,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="365,56,425,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="355,107,436,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="484,56,556,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="609,5,681,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="604,56,685,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="615,107,674,133"/>
</map>
</div>

</div>
</div>
<a id="a235add1ba6e02ce735d70348d51b25da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235add1ba6e02ce735d70348d51b25da">&#9670;&nbsp;</a></span>free_page_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int free_page_tables </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00105">105</a> of file <a class="el" href="flash_2Linux-0_811_2mm_2memory_8c_source.html">memory.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *pg_table;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> * dir, nr;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (from &amp; 0x3fffff)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;free_page_tables called with wrong alignment&quot;</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (!from)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;Trying to free up swapper memory space&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    size = (size + 0x3fffff) &gt;&gt; 22;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    dir = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) ((from&gt;&gt;20) &amp; 0xffc); <span class="comment">/* _pg_dir = 0 */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">for</span> ( ; size--&gt;0 ; dir++) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (!(1 &amp; *dir))</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        pg_table = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *) (0xfffff000 &amp; *dir);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">for</span> (nr=0 ; nr&lt;1024 ; nr++) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">if</span> (1 &amp; *pg_table)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#a6b87a284a258fa3893dc88c0fcd6f610">free_page</a>(0xfffff000 &amp; *pg_table);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            *pg_table = 0;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            pg_table++;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#a6b87a284a258fa3893dc88c0fcd6f610">free_page</a>(0xfffff000 &amp; *dir);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        *dir = 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="flash_2Linux-0_811_2mm_2memory_8c.html#acf7d1d4e3ad496402dd3b5fbe365105d">invalidate</a>();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2mm_2memory_8c_html_a6b87a284a258fa3893dc88c0fcd6f610"><div class="ttname"><a href="flash_2Linux-0_811_2mm_2memory_8c.html#a6b87a284a258fa3893dc88c0fcd6f610">free_page</a></div><div class="ttdeci">void free_page(unsigned long addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2mm_2memory_8c_source.html#l00089">memory.c:89</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_a235add1ba6e02ce735d70348d51b25da_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_a235add1ba6e02ce735d70348d51b25da_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_a235add1ba6e02ce735d70348d51b25da_cgraph" id="asrc_2include_2linux_2sched_8h_a235add1ba6e02ce735d70348d51b25da_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,140,83"/>
<area shape="rect" href="flash_2Linux-0_811_2mm_2memory_8c.html#a6b87a284a258fa3893dc88c0fcd6f610" title=" " alt="" coords="188,31,275,57"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="203,81,260,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="333,56,393,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="323,107,404,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="452,56,524,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="577,5,649,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="572,56,653,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="583,107,642,133"/>
</map>
</div>

</div>
</div>
<a id="a1e7f1f0c2e37cb25f642125fb32ffcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7f1f0c2e37cb25f642125fb32ffcec">&#9670;&nbsp;</a></span>interruptible_sleep_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interruptible_sleep_on </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtask__struct.html">task_struct</a> **&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00167">167</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtask__struct.html">task_struct</a> *tmp;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (!p)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a> == &amp;(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a8b614e45abc3e58768258131fceae7bd">init_task</a>.<a class="code" href="uniontask__union.html#ad1dfbbf21707c070bbb65cf5d8dc99c9">task</a>))</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;task[0] trying to sleep&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    tmp=*p;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    *p=<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;repeat: <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">state</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a8f52c913830b57c112a0d33a1daf587d">TASK_INTERRUPTIBLE</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac48128e72b303ea22d8ec641a9516b15">schedule</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (*p &amp;&amp; *p != <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a>) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        (**p).state=0;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    *p=<a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (tmp)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        tmp-&gt;<a class="code" href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">state</a>=0;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2fs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2fs_8h_source.html#l00052">fs.h:52</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a8f52c913830b57c112a0d33a1daf587d"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a8f52c913830b57c112a0d33a1daf587d">TASK_INTERRUPTIBLE</a></div><div class="ttdeci">#define TASK_INTERRUPTIBLE</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00020">sched.h:20</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a476ec09a598028a09942c2233aa5127e"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a></div><div class="ttdeci">struct task_struct * current</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00062">sched.c:62</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_ac48128e72b303ea22d8ec641a9516b15"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac48128e72b303ea22d8ec641a9516b15">schedule</a></div><div class="ttdeci">void schedule(void)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00104">sched.c:104</a></div></div>
<div class="ttc" id="astructtask__struct_html"><div class="ttname"><a href="structtask__struct.html">task_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00080">sched.h:80</a></div></div>
<div class="ttc" id="astructtask__struct_html_a7c764a1b0218921014431825397cdce8"><div class="ttname"><a href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">task_struct::state</a></div><div class="ttdeci">long state</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00082">sched.h:82</a></div></div>
<div class="ttc" id="auniontask__union_html_ad1dfbbf21707c070bbb65cf5d8dc99c9"><div class="ttname"><a href="uniontask__union.html#ad1dfbbf21707c070bbb65cf5d8dc99c9">task_union::task</a></div><div class="ttdeci">struct task_struct task</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00385">sched.c:54</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_a1e7f1f0c2e37cb25f642125fb32ffcec_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_a1e7f1f0c2e37cb25f642125fb32ffcec_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_a1e7f1f0c2e37cb25f642125fb32ffcec_cgraph" id="asrc_2include_2linux_2sched_8h_a1e7f1f0c2e37cb25f642125fb32ffcec_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,172,133"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="231,81,289,108"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac48128e72b303ea22d8ec641a9516b15" title=" " alt="" coords="220,132,300,159"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="359,56,419,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="348,107,429,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="477,56,549,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="602,5,674,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="597,56,679,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="609,107,667,133"/>
</map>
</div>

</div>
</div>
<a id="ab43c5eded9a063f60e583332eaa73258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43c5eded9a063f60e583332eaa73258">&#9670;&nbsp;</a></span>panic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile void panic </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2panic_8c_source.html#l00018">18</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2panic_8c_source.html">panic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc">printk</a>(<span class="stringliteral">&quot;Kernel panic: %s\n\r&quot;</span>,s);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a> == <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[0])</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc">printk</a>(<span class="stringliteral">&quot;In swapper task - not syncing\n\r&quot;</span>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <a class="code" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20">sys_sync</a>();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">for</span>(;;);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2kernel_8h_html_a929c48d2c61fe71be34a9cdf0ab04fcc"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc">printk</a></div><div class="ttdeci">int printk(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2printk_8c_source.html#l00021">printk.c:21</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a476ec09a598028a09942c2233aa5127e"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a></div><div class="ttdeci">struct task_struct * current</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00062">sched.c:62</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2panic_8c_html_acc81aedafa96378bafb37b5bccbccb20"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20">sys_sync</a></div><div class="ttdeci">void sys_sync(void)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2fs_2buffer_8c_source.html#l00048">buffer.c:48</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_ab43c5eded9a063f60e583332eaa73258_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_ab43c5eded9a063f60e583332eaa73258_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_ab43c5eded9a063f60e583332eaa73258_cgraph" id="asrc_2include_2linux_2sched_8h_ab43c5eded9a063f60e583332eaa73258_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,63,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="121,56,181,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="111,107,192,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="240,56,312,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="365,5,437,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="360,56,441,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="371,107,430,133"/>
</map>
</div>

</div>
</div>
<a id="ac76f0bd4fbafc057a2f780869968e3ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76f0bd4fbafc057a2f780869968e3ed">&#9670;&nbsp;</a></span>sched_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sched_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00385">385</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdesc__struct.html">desc_struct</a> * p;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structsigaction.html">sigaction</a>) != 16)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;Struct sigaction MUST be 16 bytes&quot;</span>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a96702af0c49d089dea06401ef7c35603">set_tss_desc</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2head_8h.html#a3e85239bce7eee478410603d53e53218">gdt</a>+<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>,&amp;(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a8b614e45abc3e58768258131fceae7bd">init_task</a>.<a class="code" href="uniontask__union.html#ad1dfbbf21707c070bbb65cf5d8dc99c9">task</a>.<a class="code" href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">tss</a>));</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a2c14e0b2544e442c0ab14172a8ee869d">set_ldt_desc</a>(<a class="code" href="flash_2Linux-0_811_2include_2linux_2head_8h.html#a3e85239bce7eee478410603d53e53218">gdt</a>+<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#af64191dd71668816b0163a4f16f01946">FIRST_LDT_ENTRY</a>,&amp;(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a8b614e45abc3e58768258131fceae7bd">init_task</a>.<a class="code" href="uniontask__union.html#ad1dfbbf21707c070bbb65cf5d8dc99c9">task</a>.<a class="code" href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">ldt</a>));</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    p = <a class="code" href="flash_2Linux-0_811_2include_2linux_2head_8h.html#a3e85239bce7eee478410603d53e53218">gdt</a>+2+<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">for</span>(i=1;i&lt;<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>;i++) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[i] = <a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        p-&gt;<a class="code" href="structdesc__struct.html#a00779843173f46433332b3755a1dbb76">a</a>=p-&gt;<a class="code" href="structdesc__struct.html#ad2de39c74ab3f59efe296995c252004b">b</a>=0;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        p++;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        p-&gt;<a class="code" href="structdesc__struct.html#a00779843173f46433332b3755a1dbb76">a</a>=p-&gt;<a class="code" href="structdesc__struct.html#ad2de39c74ab3f59efe296995c252004b">b</a>=0;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        p++;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">/* Clear NT, so that we won&#39;t have troubles with that later on */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    __asm__(<span class="stringliteral">&quot;pushfl ; andl $0xffffbfff,(%esp) ; popfl&quot;</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a042a0680c2ba18df1a0eba940a01fc20">ltr</a>(0);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#ab09146d15a36413c5cf62b229f21111a">lldt</a>(0);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#ad1af5de58371ff9cb1778f6fd96d09f1">outb_p</a>(0x36,0x43);      <span class="comment">/* binary, mode 3, LSB/MSB, ch 0 */</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#ad1af5de58371ff9cb1778f6fd96d09f1">outb_p</a>(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac2059fd29cfd2e7617b2dd6a0de2e0b5">LATCH</a> &amp; 0xff , 0x40);    <span class="comment">/* LSB */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#aff0f5d0c71d15c5888f22f86b5ca841b">outb</a>(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac2059fd29cfd2e7617b2dd6a0de2e0b5">LATCH</a> &gt;&gt; 8 , 0x40);    <span class="comment">/* MSB */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a59382a0c17b490da04ea9f9f68cf0c55">set_intr_gate</a>(0x20,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a716cae445f71ceadde1072c774c6b9bf">timer_interrupt</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#aff0f5d0c71d15c5888f22f86b5ca841b">outb</a>(<a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#abbb81c8eae91d64a9b30d940985d09fc">inb_p</a>(0x21)&amp;~0x01,0x21);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a3697f52b540e9cdffd4a31dc51ca3f4a">set_system_gate</a>(0x80,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#aab18a66658acfaf7fdb1dad14e1ea496">system_call</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2io_8h_html_abbb81c8eae91d64a9b30d940985d09fc"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2io_8h.html#abbb81c8eae91d64a9b30d940985d09fc">inb_p</a></div><div class="ttdeci">#define inb_p(port)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2io_8h_source.html#l00017">io.h:17</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2io_8h_html_ad1af5de58371ff9cb1778f6fd96d09f1"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2io_8h.html#ad1af5de58371ff9cb1778f6fd96d09f1">outb_p</a></div><div class="ttdeci">#define outb_p(value, port)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2io_8h_source.html#l00011">io.h:11</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2io_8h_html_aff0f5d0c71d15c5888f22f86b5ca841b"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2io_8h.html#aff0f5d0c71d15c5888f22f86b5ca841b">outb</a></div><div class="ttdeci">#define outb(value, port)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2io_8h_source.html#l00001">io.h:1</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_a2c14e0b2544e442c0ab14172a8ee869d"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a2c14e0b2544e442c0ab14172a8ee869d">set_ldt_desc</a></div><div class="ttdeci">#define set_ldt_desc(n, addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00066">system.h:66</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_a3697f52b540e9cdffd4a31dc51ca3f4a"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a3697f52b540e9cdffd4a31dc51ca3f4a">set_system_gate</a></div><div class="ttdeci">#define set_system_gate(n, addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00039">system.h:39</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_a59382a0c17b490da04ea9f9f68cf0c55"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a59382a0c17b490da04ea9f9f68cf0c55">set_intr_gate</a></div><div class="ttdeci">#define set_intr_gate(n, addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00033">system.h:33</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_a96702af0c49d089dea06401ef7c35603"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a96702af0c49d089dea06401ef7c35603">set_tss_desc</a></div><div class="ttdeci">#define set_tss_desc(n, addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00065">system.h:65</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2head_8h_html_a3e85239bce7eee478410603d53e53218"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2head_8h.html#a3e85239bce7eee478410603d53e53218">gdt</a></div><div class="ttdeci">desc_table gdt</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2head_8h_source.html#l00009">head.h:9</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a042a0680c2ba18df1a0eba940a01fc20"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a042a0680c2ba18df1a0eba940a01fc20">ltr</a></div><div class="ttdeci">#define ltr(n)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00159">sched.h:159</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a88a8e8596ba6eca6449e368319c9c73d"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a></div><div class="ttdeci">#define NR_TASKS</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00004">sched.h:4</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_ab09146d15a36413c5cf62b229f21111a"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#ab09146d15a36413c5cf62b229f21111a">lldt</a></div><div class="ttdeci">#define lldt(n)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00160">sched.h:160</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_aefe0cea87f00996e61511690b95362aa"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#aefe0cea87f00996e61511690b95362aa">FIRST_TSS_ENTRY</a></div><div class="ttdeci">#define FIRST_TSS_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00155">sched.h:155</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_af64191dd71668816b0163a4f16f01946"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#af64191dd71668816b0163a4f16f01946">FIRST_LDT_ENTRY</a></div><div class="ttdeci">#define FIRST_LDT_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00156">sched.h:156</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a32ae6a90bd92bba7a7d2103b2b0662d8"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a></div><div class="ttdeci">struct task_struct * task[NR_TASKS]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00065">sched.c:65</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a716cae445f71ceadde1072c774c6b9bf"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a716cae445f71ceadde1072c774c6b9bf">timer_interrupt</a></div><div class="ttdeci">int timer_interrupt(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_aab18a66658acfaf7fdb1dad14e1ea496"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#aab18a66658acfaf7fdb1dad14e1ea496">system_call</a></div><div class="ttdeci">int system_call(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_ac2059fd29cfd2e7617b2dd6a0de2e0b5"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac2059fd29cfd2e7617b2dd6a0de2e0b5">LATCH</a></div><div class="ttdeci">#define LATCH</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00046">sched.c:46</a></div></div>
<div class="ttc" id="astructdesc__struct_html"><div class="ttname"><a href="structdesc__struct.html">desc_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2head_8h_source.html#l00004">head.h:4</a></div></div>
<div class="ttc" id="astructdesc__struct_html_a00779843173f46433332b3755a1dbb76"><div class="ttname"><a href="structdesc__struct.html#a00779843173f46433332b3755a1dbb76">desc_struct::a</a></div><div class="ttdeci">unsigned long a</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2head_8h_source.html#l00005">head.h:5</a></div></div>
<div class="ttc" id="astructdesc__struct_html_ad2de39c74ab3f59efe296995c252004b"><div class="ttname"><a href="structdesc__struct.html#ad2de39c74ab3f59efe296995c252004b">desc_struct::b</a></div><div class="ttdeci">unsigned long b</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2head_8h_source.html#l00005">head.h:5</a></div></div>
<div class="ttc" id="astructsigaction_html"><div class="ttname"><a href="structsigaction.html">sigaction</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2signal_8h_source.html#l00048">signal.h:48</a></div></div>
<div class="ttc" id="astructtask__struct_html_a326ff4e561c98dd1d2a23d43d0a42ab6"><div class="ttname"><a href="structtask__struct.html#a326ff4e561c98dd1d2a23d43d0a42ab6">task_struct::ldt</a></div><div class="ttdeci">struct desc_struct ldt[3]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00104">sched.h:106</a></div></div>
<div class="ttc" id="astructtask__struct_html_a5d739e2cde5e8828a687c539076535b5"><div class="ttname"><a href="structtask__struct.html#a5d739e2cde5e8828a687c539076535b5">task_struct::tss</a></div><div class="ttdeci">struct tss_struct tss</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00104">sched.h:108</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_ac76f0bd4fbafc057a2f780869968e3ed_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_ac76f0bd4fbafc057a2f780869968e3ed_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_ac76f0bd4fbafc057a2f780869968e3ed_cgraph" id="asrc_2include_2linux_2sched_8h_ac76f0bd4fbafc057a2f780869968e3ed_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,93,159"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="173,81,230,108"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sched_8c.html#aab18a66658acfaf7fdb1dad14e1ea496" title=" " alt="" coords="151,132,251,159"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a716cae445f71ceadde1072c774c6b9bf" title=" " alt="" coords="141,183,261,209"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="320,56,380,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="309,107,391,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="439,56,511,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="563,5,635,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="559,56,640,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="570,107,629,133"/>
</map>
</div>

</div>
</div>
<a id="ac48128e72b303ea22d8ec641a9516b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac48128e72b303ea22d8ec641a9516b15">&#9670;&nbsp;</a></span>schedule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void schedule </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00104">104</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">int</span> i,next,c;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtask__struct.html">task_struct</a> ** p;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">/* check alarm, wake up any interruptible tasks that have got a signal */</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">for</span>(p = &amp;<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#abc4ed73e97cde0df36d05d8075614f17">LAST_TASK</a> ; p &gt; &amp;<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a34c8eecdb7a88d11553137a71d7c2cc3">FIRST_TASK</a> ; --p)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (*p) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span> ((*p)-&gt;alarm &amp;&amp; (*p)-&gt;alarm &lt; <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a37aca3305753442605b0762afa99a07e">jiffies</a>) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    (*p)-&gt;<a class="code" href="structtask__struct.html#a52bf129480ad1720d6672e94a8736b56">signal</a> |= (1&lt;&lt;(<a class="code" href="flash_2Linux-0_811_2include_2signal_8h.html#aa6946723c6b7a86ec3c33caaf832840b">SIGALRM</a>-1));</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    (*p)-&gt;alarm = 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">if</span> (((*p)-&gt;signal &amp; ~(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a7663d7fadaf4bac5e8bb574632ba0351">_BLOCKABLE</a> &amp; (*p)-&gt;blocked)) &amp;&amp;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            (*p)-&gt;state==<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a8f52c913830b57c112a0d33a1daf587d">TASK_INTERRUPTIBLE</a>)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                (*p)-&gt;state=<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e3f99a030e5dfefb8f9815600e3fed">TASK_RUNNING</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/* this is the scheduler proper: */</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        c = -1;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        next = 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        i = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        p = &amp;<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a32ae6a90bd92bba7a7d2103b2b0662d8">task</a>[<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>];</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">while</span> (--i) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">if</span> (!*--p)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">if</span> ((*p)-&gt;state == <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e3f99a030e5dfefb8f9815600e3fed">TASK_RUNNING</a> &amp;&amp; (*p)-&gt;counter &gt; c)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                c = (*p)-&gt;<a class="code" href="structtask__struct.html#ae4e1fb3352913d7090328fb14a5f1ab6">counter</a>, next = i;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (c) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">for</span>(p = &amp;<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#abc4ed73e97cde0df36d05d8075614f17">LAST_TASK</a> ; p &gt; &amp;<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a34c8eecdb7a88d11553137a71d7c2cc3">FIRST_TASK</a> ; --p)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">if</span> (*p)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                (*p)-&gt;counter = ((*p)-&gt;counter &gt;&gt; 1) +</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                        (*p)-&gt;priority;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a444a341396090a8e0b8c52736b08bb42">switch_to</a>(next);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a17e3f99a030e5dfefb8f9815600e3fed"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a17e3f99a030e5dfefb8f9815600e3fed">TASK_RUNNING</a></div><div class="ttdeci">#define TASK_RUNNING</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00019">sched.h:19</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a34c8eecdb7a88d11553137a71d7c2cc3"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a34c8eecdb7a88d11553137a71d7c2cc3">FIRST_TASK</a></div><div class="ttdeci">#define FIRST_TASK</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00007">sched.h:7</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a444a341396090a8e0b8c52736b08bb42"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a444a341396090a8e0b8c52736b08bb42">switch_to</a></div><div class="ttdeci">#define switch_to(n)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00173">sched.h:173</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_abc4ed73e97cde0df36d05d8075614f17"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#abc4ed73e97cde0df36d05d8075614f17">LAST_TASK</a></div><div class="ttdeci">#define LAST_TASK</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00008">sched.h:8</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2signal_8h_html_aa6946723c6b7a86ec3c33caaf832840b"><div class="ttname"><a href="flash_2Linux-0_811_2include_2signal_8h.html#aa6946723c6b7a86ec3c33caaf832840b">SIGALRM</a></div><div class="ttdeci">#define SIGALRM</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2signal_8h_source.html#l00026">signal.h:26</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2sched_8c_html_a7663d7fadaf4bac5e8bb574632ba0351"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2sched_8c.html#a7663d7fadaf4bac5e8bb574632ba0351">_BLOCKABLE</a></div><div class="ttdeci">#define _BLOCKABLE</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00024">sched.c:24</a></div></div>
<div class="ttc" id="astructtask__struct_html_a52bf129480ad1720d6672e94a8736b56"><div class="ttname"><a href="structtask__struct.html#a52bf129480ad1720d6672e94a8736b56">task_struct::signal</a></div><div class="ttdeci">long signal</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00085">sched.h:85</a></div></div>
<div class="ttc" id="astructtask__struct_html_ae4e1fb3352913d7090328fb14a5f1ab6"><div class="ttname"><a href="structtask__struct.html#ae4e1fb3352913d7090328fb14a5f1ab6">task_struct::counter</a></div><div class="ttdeci">long counter</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00083">sched.h:83</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_ac48128e72b303ea22d8ec641a9516b15_icgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_ac48128e72b303ea22d8ec641a9516b15_icgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_ac48128e72b303ea22d8ec641a9516b15_icgraph" id="asrc_2include_2linux_2sched_8h_ac48128e72b303ea22d8ec641a9516b15_icgraph">
<area shape="rect" title=" " alt="" coords="1879,613,1959,640"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a7c136705cbcc7caebb2c4734b6ab907b" title=" " alt="" coords="1745,411,1825,437"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a1e7f1f0c2e37cb25f642125fb32ffcec" title=" " alt="" coords="1172,183,1339,209"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a8ee0eea1a206d256d223fd33292ddb5d" title=" " alt="" coords="1745,740,1825,767"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2sys_8h.html#a1904babd272358a9876f4d756fa1719a" title=" " alt="" coords="1740,791,1831,817"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#abe1936a56cbf6ac4fb9d685078f38e9c" title=" " alt="" coords="997,309,1113,336"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a95a4702b2b80a770e8e6091a62efa991" title=" " alt="" coords="994,107,1117,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a31a8b84e58a2d1a0c7ffd0922f5ba3f3" title=" " alt="" coords="1005,31,1106,57"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a53eefc9fcd3ae0cc20ec6eeea2dd6d44" title=" " alt="" coords="791,385,939,412"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#abd49a5c5f108e9b275586df332564e38" title=" " alt="" coords="628,607,723,633"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2open_8c.html#a710bd8fc9f99d575d34e7fb7e64c8c09" title=" " alt="" coords="155,417,237,444"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#a516f58ff075ed9e15bb77645c5d55b56" title=" " alt="" coords="5,367,103,393"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2char__dev_8c.html#af6c1964382930a12ed0726c855d9b628" title=" " alt="" coords="827,56,903,83"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#a458d21c73fc4113236898d9afa004ed4" title=" " alt="" coords="289,107,429,133"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2char__dev_8c.html#a60e4722bc43d19889565a39c2f058e1d" title=" " alt="" coords="640,31,711,57"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2char__dev_8c.html#ac9eded591fff3c631ee7551c468f5f71" title=" " alt="" coords="825,5,905,32"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a197cebc7bc8d67773a979e92c14b40c0" title=" " alt="" coords="1224,1272,1287,1299"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2blk__drv_2ll__rw__blk_8c.html#a304a48e632da3fd0006aa586f7cc7ca7" title=" " alt="" coords="1585,1525,1680,1552"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2blk__drv_2ll__rw__blk_8c.html#ae0d0119949a9c5eed9b1128db4f13674" title=" " alt="" coords="1399,1525,1513,1552"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa4df3c26552f5d09c7a0d6b080baf55" title=" " alt="" coords="1009,816,1101,843"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#a3f4f567cec35d4d407a20030574e7024" title=" " alt="" coords="1209,563,1301,589"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2pipe_8c.html#a00c254a1f8234faf9def51bc2c54c59e" title=" " alt="" coords="1589,613,1676,640"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a96f49dc697e8292e946ba7680ebecf96" title=" " alt="" coords="1573,1196,1692,1223"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#aef87a93dd139de38ca5b9baac78f4ccc" title=" " alt="" coords="1197,309,1313,336"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#a443c3c886626b03f1130aa6a8758f8ef" title=" " alt="" coords="1575,765,1691,792"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2pipe_8c.html#ab3c0b63f7a3761cde15f67ce11f8be76" title=" " alt="" coords="1587,715,1678,741"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2block__dev_8c.html#a9af8af96c24b2aee5f949b116decfd02" title=" " alt="" coords="816,1424,913,1451"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#ad78fac6715f3c28e0cf0522df36a111f" title=" " alt="" coords="1026,1221,1085,1248"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a7bcdedc1f5ba7597461c3a49559e5b12" title=" " alt="" coords="1006,1475,1105,1501"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a1b310db1dc1e28275c0888c724d48724" title=" " alt="" coords="1022,1525,1089,1552"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2bitmap_8c.html#a3f051047ee70eb8464844e3ab6b430af" title=" " alt="" coords="1010,1019,1101,1045"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#ad19b3562cfd0ced5718591d63d158b26" title=" " alt="" coords="831,1019,898,1045"/>
<area shape="rect" href="src_2fs_2namei_8c.html#a2f643a217cf62507f4b1ebad773e0a29" title=" " alt="" coords="819,1120,911,1147"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2namei_8c.html#a3d23fd77008f787f6d7d80ed7e30d1db" title=" " alt="" coords="821,1069,908,1096"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2exec_8c.html#a91e86d0620f471b2fa1276658f635455" title=" " alt="" coords="151,1221,241,1248"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#af3c9d35d7418d0b20df66b259199cedb" title=" " alt="" coords="817,715,912,741"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#a35a7c0ed9f4a491c42318c15ecefd197" title=" " alt="" coords="815,867,914,893"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#a78b297f206aacdb913d2db4db1ef6689" title=" " alt="" coords="173,367,219,393"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#a233cbadcd057272f37322a707c908989" title=" " alt="" coords="608,316,743,343"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#afa76e75f45af948cbb6e5da444038f40" title=" " alt="" coords="336,480,383,507"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2inode_8c.html#a4e8b4c0a66f6ea10acdb053c4f4e8c79" title=" " alt="" coords="624,867,727,893"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a95df8a2e491bf4181e3d7b6ddfc755a3" title=" " alt="" coords="477,917,560,944"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a3c674993ee07115ee464f88503882488" title=" " alt="" coords="478,1627,559,1653"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#af9add4ad497e3b9eae67e2cbf7cea45e" title=" " alt="" coords="1208,1525,1303,1552"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a7d20b074bcbc61719507a1f8e55b0606" title=" " alt="" coords="1012,563,1099,589"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#ad15c8296a5599c15736bb9383050eec7" title=" " alt="" coords="1224,1120,1287,1147"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a26c3be9640a543377e6c6f8d189c83e9" title=" " alt="" coords="1395,1221,1517,1248"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#acea2962102f7d035a1778ac7ca18c538" title=" " alt="" coords="1387,639,1525,665"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#aaab8557dc3b2ebf624bb29642d0753c6" title=" " alt="" coords="987,360,1124,387"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#a43f836df13a239d2197028d56018edba" title=" " alt="" coords="1212,664,1299,691"/>
</map>
</div>

</div>
</div>
<a id="a8ee0eea1a206d256d223fd33292ddb5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee0eea1a206d256d223fd33292ddb5d">&#9670;&nbsp;</a></span>sleep_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sleep_on </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtask__struct.html">task_struct</a> **&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00151">151</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtask__struct.html">task_struct</a> *tmp;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (!p)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a> == &amp;(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a8b614e45abc3e58768258131fceae7bd">init_task</a>.<a class="code" href="uniontask__union.html#ad1dfbbf21707c070bbb65cf5d8dc99c9">task</a>))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258">panic</a>(<span class="stringliteral">&quot;task[0] trying to sleep&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    tmp = *p;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    *p = <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">state</a> = <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a797095919d5e24e5dc00c4d0bbc7ec31">TASK_UNINTERRUPTIBLE</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac48128e72b303ea22d8ec641a9516b15">schedule</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (tmp)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        tmp-&gt;<a class="code" href="structtask__struct.html#a7c764a1b0218921014431825397cdce8">state</a>=0;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_a797095919d5e24e5dc00c4d0bbc7ec31"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a797095919d5e24e5dc00c4d0bbc7ec31">TASK_UNINTERRUPTIBLE</a></div><div class="ttdeci">#define TASK_UNINTERRUPTIBLE</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2sched_8h_source.html#l00021">sched.h:21</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_cgraph" id="asrc_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,85,133"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#ab43c5eded9a063f60e583332eaa73258" title=" " alt="" coords="145,81,202,108"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sched_8c.html#ac48128e72b303ea22d8ec641a9516b15" title=" " alt="" coords="133,132,213,159"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2kernel_8h.html#a929c48d2c61fe71be34a9cdf0ab04fcc" title=" " alt="" coords="272,56,332,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2panic_8c.html#acc81aedafa96378bafb37b5bccbccb20" title=" " alt="" coords="261,107,343,133"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2printk_8c.html#aaa83f2a89dae6d03dfe15deae29f383a" title=" " alt="" coords="391,56,463,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#ac2f4c669c6f6aa6caa5ab8adb1b07dd0" title=" " alt="" coords="515,5,587,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2vsprintf_8c.html#a3fa7c8ef8597579301cb4b5c59bc6d9a" title=" " alt="" coords="511,56,592,83"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2string_8h.html#a2dee044e4e667b5b789b493abd21cfa4" title=" " alt="" coords="522,107,581,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_icgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_icgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_icgraph" id="asrc_2include_2linux_2sched_8h_a8ee0eea1a206d256d223fd33292ddb5d_icgraph">
<area shape="rect" title=" " alt="" coords="921,81,1001,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2fdreg_8h.html#a3b9c3c3f694cbf682e4eb7724a9e6230" title=" " alt="" coords="788,81,873,108"/>
<area shape="rect" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#abe1936a56cbf6ac4fb9d685078f38e9c" title=" " alt="" coords="624,81,740,108"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2buffer_8c.html#a53eefc9fcd3ae0cc20ec6eeea2dd6d44" title=" " alt="" coords="428,81,576,108"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#abd49a5c5f108e9b275586df332564e38" title=" " alt="" coords="285,56,380,83"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2open_8c.html#a710bd8fc9f99d575d34e7fb7e64c8c09" title=" " alt="" coords="291,107,374,133"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#a516f58ff075ed9e15bb77645c5d55b56" title=" " alt="" coords="140,5,237,32"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2super_8c.html#a02dcfdb731cb4c5dfc6fcd8516dabf98" title=" " alt="" coords="142,56,235,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2blk__drv_2hd_8c.html#a1e990fd03a090a3504d84824343bc54a" title=" " alt="" coords="5,5,92,32"/>
<area shape="rect" href="flash_2Linux-0_811_2fs_2open_8c.html#a97da1b73b641350471360707e39ed5f6" title=" " alt="" coords="147,107,231,133"/>
</map>
</div>

</div>
</div>
<a id="a7fd306118b826212968bc1f2d4045f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd306118b826212968bc1f2d4045f61">&#9670;&nbsp;</a></span>trap_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trap_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2traps_8c_source.html#l00181">181</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2traps_8c_source.html">traps.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(0,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#aa576d0c4f8920b5437af7b8d4564d032">divide_error</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(1,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a146ba59440b7ebfb099f2ceb23d0a60f">debug</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(2,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#add85efcd0f679b2bf261890fd9a3bdb3">nmi</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a3697f52b540e9cdffd4a31dc51ca3f4a">set_system_gate</a>(3,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#ae335c1861c4d66f0261c9052e6dcfc6c">int3</a>);   <span class="comment">/* int3-5 can be called from all */</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a3697f52b540e9cdffd4a31dc51ca3f4a">set_system_gate</a>(4,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#ab69b13817a99feddc272895027a4c4e2">overflow</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#a3697f52b540e9cdffd4a31dc51ca3f4a">set_system_gate</a>(5,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a8f9679ccc213b2e80a3ec58d28abb387">bounds</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(6,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a015a584cc3b6f8ac504279683e96e495">invalid_op</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(7,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a26d7f69418cc6a5aa9d9153d43e9632a">device_not_available</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(8,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a68ea9321b4398cdd0db2a86ad8a59967">double_fault</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(9,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a7e24147f2a84260c1b26ad061d135fe4">coprocessor_segment_overrun</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(10,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#ae0d70fedb9587180712fe3246922c555">invalid_TSS</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(11,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a73b48fccd61a718cc7d60884b111760e">segment_not_present</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(12,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a3c99e79fa2b3fb1327f6007037f12982">stack_segment</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(13,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a3a004fa105f4b77ec27e70ebc7e34c91">general_protection</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(14,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#afa41580818a256dccd45c27d8488f435">page_fault</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(15,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#aba652690756ff9e349625bfc93cf8e30">reserved</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(16,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#afa81779d9d75b45b852dd58ed968732a">coprocessor_error</a>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">for</span> (i=17;i&lt;48;i++)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(i,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#aba652690756ff9e349625bfc93cf8e30">reserved</a>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(45,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a035c5d689f6583512ea6624adad5e00f">irq13</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#ad1af5de58371ff9cb1778f6fd96d09f1">outb_p</a>(<a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#abbb81c8eae91d64a9b30d940985d09fc">inb_p</a>(0x21)&amp;0xfb,0x21);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#aff0f5d0c71d15c5888f22f86b5ca841b">outb</a>(<a class="code" href="flash_2Linux-0_811_2include_2asm_2io_8h.html#abbb81c8eae91d64a9b30d940985d09fc">inb_p</a>(0xA1)&amp;0xdf,0xA1);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a>(39,&amp;<a class="code" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a90bc6980de335a04f4878638324f272c">parallel_interrupt</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2system_8h_html_aad37ca1a6291135c6eb51f0eb0588c67"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2system_8h.html#aad37ca1a6291135c6eb51f0eb0588c67">set_trap_gate</a></div><div class="ttdeci">#define set_trap_gate(n, addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2system_8h_source.html#l00036">system.h:36</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a015a584cc3b6f8ac504279683e96e495"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a015a584cc3b6f8ac504279683e96e495">invalid_op</a></div><div class="ttdeci">void invalid_op(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a035c5d689f6583512ea6624adad5e00f"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a035c5d689f6583512ea6624adad5e00f">irq13</a></div><div class="ttdeci">void irq13(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a146ba59440b7ebfb099f2ceb23d0a60f"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a146ba59440b7ebfb099f2ceb23d0a60f">debug</a></div><div class="ttdeci">void debug(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a26d7f69418cc6a5aa9d9153d43e9632a"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a26d7f69418cc6a5aa9d9153d43e9632a">device_not_available</a></div><div class="ttdeci">void device_not_available(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a3a004fa105f4b77ec27e70ebc7e34c91"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a3a004fa105f4b77ec27e70ebc7e34c91">general_protection</a></div><div class="ttdeci">void general_protection(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a3c99e79fa2b3fb1327f6007037f12982"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a3c99e79fa2b3fb1327f6007037f12982">stack_segment</a></div><div class="ttdeci">void stack_segment(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a68ea9321b4398cdd0db2a86ad8a59967"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a68ea9321b4398cdd0db2a86ad8a59967">double_fault</a></div><div class="ttdeci">void double_fault(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a73b48fccd61a718cc7d60884b111760e"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a73b48fccd61a718cc7d60884b111760e">segment_not_present</a></div><div class="ttdeci">void segment_not_present(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a7e24147f2a84260c1b26ad061d135fe4"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a7e24147f2a84260c1b26ad061d135fe4">coprocessor_segment_overrun</a></div><div class="ttdeci">void coprocessor_segment_overrun(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a8f9679ccc213b2e80a3ec58d28abb387"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a8f9679ccc213b2e80a3ec58d28abb387">bounds</a></div><div class="ttdeci">void bounds(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_a90bc6980de335a04f4878638324f272c"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#a90bc6980de335a04f4878638324f272c">parallel_interrupt</a></div><div class="ttdeci">void parallel_interrupt(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_aa576d0c4f8920b5437af7b8d4564d032"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#aa576d0c4f8920b5437af7b8d4564d032">divide_error</a></div><div class="ttdeci">void divide_error(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_ab69b13817a99feddc272895027a4c4e2"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#ab69b13817a99feddc272895027a4c4e2">overflow</a></div><div class="ttdeci">void overflow(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_aba652690756ff9e349625bfc93cf8e30"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#aba652690756ff9e349625bfc93cf8e30">reserved</a></div><div class="ttdeci">void reserved(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_add85efcd0f679b2bf261890fd9a3bdb3"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#add85efcd0f679b2bf261890fd9a3bdb3">nmi</a></div><div class="ttdeci">void nmi(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_ae0d70fedb9587180712fe3246922c555"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#ae0d70fedb9587180712fe3246922c555">invalid_TSS</a></div><div class="ttdeci">void invalid_TSS(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_ae335c1861c4d66f0261c9052e6dcfc6c"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#ae335c1861c4d66f0261c9052e6dcfc6c">int3</a></div><div class="ttdeci">void int3(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_afa41580818a256dccd45c27d8488f435"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#afa41580818a256dccd45c27d8488f435">page_fault</a></div><div class="ttdeci">void page_fault(void)</div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2traps_8c_html_afa81779d9d75b45b852dd58ed968732a"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2traps_8c.html#afa81779d9d75b45b852dd58ed968732a">coprocessor_error</a></div><div class="ttdeci">void coprocessor_error(void)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_a7fd306118b826212968bc1f2d4045f61_cgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_a7fd306118b826212968bc1f2d4045f61_cgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_a7fd306118b826212968bc1f2d4045f61_cgraph" id="asrc_2include_2linux_2sched_8h_a7fd306118b826212968bc1f2d4045f61_cgraph">
<area shape="rect" title=" " alt="" coords="5,477,81,504"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a8f9679ccc213b2e80a3ec58d28abb387" title=" " alt="" coords="177,5,246,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#afa81779d9d75b45b852dd58ed968732a" title=" " alt="" coords="142,56,281,83"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a7e24147f2a84260c1b26ad061d135fe4" title=" " alt="" coords="129,107,293,149"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a146ba59440b7ebfb099f2ceb23d0a60f" title=" " alt="" coords="180,173,243,200"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a26d7f69418cc6a5aa9d9153d43e9632a" title=" " alt="" coords="131,224,291,251"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#aa576d0c4f8920b5437af7b8d4564d032" title=" " alt="" coords="161,275,261,301"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a68ea9321b4398cdd0db2a86ad8a59967" title=" " alt="" coords="160,325,263,352"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a3a004fa105f4b77ec27e70ebc7e34c91" title=" " alt="" coords="139,376,283,403"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#ae335c1861c4d66f0261c9052e6dcfc6c" title=" " alt="" coords="188,427,235,453"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a015a584cc3b6f8ac504279683e96e495" title=" " alt="" coords="167,477,256,504"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#ae0d70fedb9587180712fe3246922c555" title=" " alt="" coords="163,528,260,555"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a035c5d689f6583512ea6624adad5e00f" title=" " alt="" coords="184,579,239,605"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#add85efcd0f679b2bf261890fd9a3bdb3" title=" " alt="" coords="188,629,235,656"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#ab69b13817a99feddc272895027a4c4e2" title=" " alt="" coords="172,680,251,707"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#afa41580818a256dccd45c27d8488f435" title=" " alt="" coords="166,731,257,757"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a90bc6980de335a04f4878638324f272c" title=" " alt="" coords="144,781,279,808"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#aba652690756ff9e349625bfc93cf8e30" title=" " alt="" coords="172,832,251,859"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a73b48fccd61a718cc7d60884b111760e" title=" " alt="" coords="130,883,293,909"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2traps_8c.html#a3c99e79fa2b3fb1327f6007037f12982" title=" " alt="" coords="151,933,272,960"/>
</map>
</div>

</div>
</div>
<a id="ac9eded591fff3c631ee7551c468f5f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9eded591fff3c631ee7551c468f5f71">&#9670;&nbsp;</a></span>tty_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tty_write </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00291">291</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html">tty_io.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> cr_flag=0;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtty__struct.html">tty_struct</a> * tty;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">char</span> c, *<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a14c92240a8c7badaaa4e18952e560053">b</a>=<a class="code" href="flash_2Linux-0_811_2kernel_2printk_8c.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (channel&gt;2 || nr&lt;0) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    tty = channel + <a class="code" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#aa109788d183a1ef0d1e29454236ae332">tty_table</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">while</span> (nr&gt;0) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a31a8b84e58a2d1a0c7ffd0922f5ba3f3">sleep_if_full</a>(&amp;tty-&gt;<a class="code" href="structtty__struct.html#ae1e26ef49124af2980a5d26fbacc6306">write_q</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#a476ec09a598028a09942c2233aa5127e">current</a>-&gt;<a class="code" href="structtask__struct.html#a52bf129480ad1720d6672e94a8736b56">signal</a>)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">while</span> (nr&gt;0 &amp;&amp; !<a class="code" href="flash_2Linux-0_811_2include_2linux_2tty_8h.html#a8e4f3d28e38075ce3567ca699f65d470">FULL</a>(tty-&gt;<a class="code" href="structtty__struct.html#ae1e26ef49124af2980a5d26fbacc6306">write_q</a>)) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            c=<a class="code" href="flash_2Linux-0_811_2include_2asm_2segment_8h.html#a5f273be4f36ebf76067d04592954aaf4">get_fs_byte</a>(<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a14c92240a8c7badaaa4e18952e560053">b</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#af29940b0a0a905907971b629f1d5e4cb">O_POST</a>(tty)) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">if</span> (c==<span class="charliteral">&#39;\r&#39;</span> &amp;&amp; <a class="code" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a2be00e29a7961dd88413e417019acd1a">O_CRNL</a>(tty))</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    c=<span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c==<span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a6564b26bc75d29c57bde0684131933e7">O_NLRET</a>(tty))</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    c=<span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">if</span> (c==<span class="charliteral">&#39;\n&#39;</span> &amp;&amp; !cr_flag &amp;&amp; <a class="code" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a7cc1e72a04b90a5510f1b184da113e9b">O_NLCR</a>(tty)) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    cr_flag = 1;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    <a class="code" href="flash_2Linux-0_811_2include_2linux_2tty_8h.html#a1a15889ae8e070f6dc6286de6065c2ba">PUTCH</a>(13,tty-&gt;<a class="code" href="structtty__struct.html#ae1e26ef49124af2980a5d26fbacc6306">write_q</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a0a324b23812d02594f03711efea9c32e">O_LCUC</a>(tty))</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    c=<a class="code" href="flash_2Linux-0_811_2include_2ctype_8h.html#adda03014c30b02d7b496fce96f37951b">toupper</a>(c);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a14c92240a8c7badaaa4e18952e560053">b</a>++; nr--;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            cr_flag = 0;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <a class="code" href="flash_2Linux-0_811_2include_2linux_2tty_8h.html#a1a15889ae8e070f6dc6286de6065c2ba">PUTCH</a>(c,tty-&gt;<a class="code" href="structtty__struct.html#ae1e26ef49124af2980a5d26fbacc6306">write_q</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        tty-&gt;<a class="code" href="structtty__struct.html#a0f3d3aa88832c2adafb2390a80de897e">write</a>(tty);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> (nr&gt;0)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <a class="code" href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#ac48128e72b303ea22d8ec641a9516b15">schedule</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a14c92240a8c7badaaa4e18952e560053">b</a>-<a class="code" href="flash_2Linux-0_811_2kernel_2printk_8c.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2asm_2segment_8h_html_a5f273be4f36ebf76067d04592954aaf4"><div class="ttname"><a href="flash_2Linux-0_811_2include_2asm_2segment_8h.html#a5f273be4f36ebf76067d04592954aaf4">get_fs_byte</a></div><div class="ttdeci">static unsigned char get_fs_byte(const char *addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2asm_2segment_8h_source.html#l00001">segment.h:1</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2ctype_8h_html_adda03014c30b02d7b496fce96f37951b"><div class="ttname"><a href="flash_2Linux-0_811_2include_2ctype_8h.html#adda03014c30b02d7b496fce96f37951b">toupper</a></div><div class="ttdeci">#define toupper(c)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2ctype_8h_source.html#l00032">ctype.h:32</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2sched_8h_html_ac48128e72b303ea22d8ec641a9516b15"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2sched_8h.html#ac48128e72b303ea22d8ec641a9516b15">schedule</a></div><div class="ttdeci">void schedule(void)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00104">sched.c:104</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2tty_8h_html_a1a15889ae8e070f6dc6286de6065c2ba"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2tty_8h.html#a1a15889ae8e070f6dc6286de6065c2ba">PUTCH</a></div><div class="ttdeci">#define PUTCH(c, queue)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2tty_8h_source.html#l00033">tty.h:33</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2include_2linux_2tty_8h_html_a8e4f3d28e38075ce3567ca699f65d470"><div class="ttname"><a href="flash_2Linux-0_811_2include_2linux_2tty_8h.html#a8e4f3d28e38075ce3567ca699f65d470">FULL</a></div><div class="ttdeci">#define FULL(a)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2tty_8h_source.html#l00029">tty.h:29</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_html_a0a324b23812d02594f03711efea9c32e"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a0a324b23812d02594f03711efea9c32e">O_LCUC</a></div><div class="ttdeci">#define O_LCUC(tty)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00049">tty_io.c:49</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_html_a2be00e29a7961dd88413e417019acd1a"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a2be00e29a7961dd88413e417019acd1a">O_CRNL</a></div><div class="ttdeci">#define O_CRNL(tty)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00047">tty_io.c:47</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_html_a31a8b84e58a2d1a0c7ffd0922f5ba3f3"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a31a8b84e58a2d1a0c7ffd0922f5ba3f3">sleep_if_full</a></div><div class="ttdeci">static void sleep_if_full(struct tty_queue *queue)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00130">tty_io.c:130</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_html_a6564b26bc75d29c57bde0684131933e7"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a6564b26bc75d29c57bde0684131933e7">O_NLRET</a></div><div class="ttdeci">#define O_NLRET(tty)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00048">tty_io.c:48</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_html_a7cc1e72a04b90a5510f1b184da113e9b"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#a7cc1e72a04b90a5510f1b184da113e9b">O_NLCR</a></div><div class="ttdeci">#define O_NLCR(tty)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00046">tty_io.c:46</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_html_aa109788d183a1ef0d1e29454236ae332"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#aa109788d183a1ef0d1e29454236ae332">tty_table</a></div><div class="ttdeci">struct tty_struct tty_table[]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00001">tty_io.c:51</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_html_af29940b0a0a905907971b629f1d5e4cb"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c.html#af29940b0a0a905907971b629f1d5e4cb">O_POST</a></div><div class="ttdeci">#define O_POST(tty)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2chr__drv_2tty__io_8c_source.html#l00045">tty_io.c:45</a></div></div>
<div class="ttc" id="aflash_2Linux-0_811_2kernel_2printk_8c_html_ac75fce8692fd1d41a8985f6aacc4a175"><div class="ttname"><a href="flash_2Linux-0_811_2kernel_2printk_8c.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a></div><div class="ttdeci">static char buf[1024]</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2kernel_2printk_8c_source.html#l00017">printk.c:17</a></div></div>
<div class="ttc" id="astructtty__struct_html"><div class="ttname"><a href="structtty__struct.html">tty_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2tty_8h_source.html#l00045">tty.h:45</a></div></div>
<div class="ttc" id="astructtty__struct_html_a0f3d3aa88832c2adafb2390a80de897e"><div class="ttname"><a href="structtty__struct.html#a0f3d3aa88832c2adafb2390a80de897e">tty_struct::write</a></div><div class="ttdeci">void(* write)(struct tty_struct *tty)</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2tty_8h_source.html#l00049">tty.h:49</a></div></div>
<div class="ttc" id="astructtty__struct_html_ae1e26ef49124af2980a5d26fbacc6306"><div class="ttname"><a href="structtty__struct.html#ae1e26ef49124af2980a5d26fbacc6306">tty_struct::write_q</a></div><div class="ttdeci">struct tty_queue write_q</div><div class="ttdef"><b>Definition:</b> <a href="flash_2Linux-0_811_2include_2linux_2tty_8h_source.html#l00049">tty.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add6d90b147b8d600062919f0220600f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add6d90b147b8d600062919f0220600f4">&#9670;&nbsp;</a></span>wake_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wake_up </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtask__struct.html">task_struct</a> **&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00188">188</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (p &amp;&amp; *p) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        (**p).state=0;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        *p=<a class="code" href="flash_2Linux-0_811_2include_2linux_2fs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="src_2include_2linux_2sched_8h_add6d90b147b8d600062919f0220600f4_icgraph.png" border="0" usemap="#asrc_2include_2linux_2sched_8h_add6d90b147b8d600062919f0220600f4_icgraph" alt=""/></div>
<map name="asrc_2include_2linux_2sched_8h_add6d90b147b8d600062919f0220600f4_icgraph" id="asrc_2include_2linux_2sched_8h_add6d90b147b8d600062919f0220600f4_icgraph">
<area shape="rect" title=" " alt="" coords="308,5,387,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sched_8c.html#afe910b8f0902f3e2c42d6630d7f5adc9" title=" " alt="" coords="133,5,260,32"/>
<area shape="rect" href="flash_2Linux-0_811_2kernel_2sched_8c.html#a7c136705cbcc7caebb2c4734b6ab907b" title=" " alt="" coords="5,5,85,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a476ec09a598028a09942c2233aa5127e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476ec09a598028a09942c2233aa5127e">&#9670;&nbsp;</a></span>current</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtask__struct.html">task_struct</a>* current</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00062">62</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>

</div>
</div>
<a id="a37aca3305753442605b0762afa99a07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37aca3305753442605b0762afa99a07e">&#9670;&nbsp;</a></span>jiffies</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long volatile jiffies</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00060">60</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>

</div>
</div>
<a id="a4a720faae9986c1917541956019c8a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a720faae9986c1917541956019c8a3b">&#9670;&nbsp;</a></span>last_task_used_math</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtask__struct.html">task_struct</a>* last_task_used_math</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00063">63</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>

</div>
</div>
<a id="a39b7cd6026b7abf239ace8f11306e205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b7cd6026b7abf239ace8f11306e205">&#9670;&nbsp;</a></span>startup_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long startup_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00061">61</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>

</div>
</div>
<a id="a32ae6a90bd92bba7a7d2103b2b0662d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ae6a90bd92bba7a7d2103b2b0662d8">&#9670;&nbsp;</a></span>task</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtask__struct.html">task_struct</a>* task[<a class="el" href="src_2include_2linux_2sched_8h.html#a88a8e8596ba6eca6449e368319c9c73d">NR_TASKS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html#l00065">65</a> of file <a class="el" href="flash_2Linux-0_811_2kernel_2sched_8c_source.html">sched.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li><li class="navelem"><a class="el" href="dir_316386f564092aa0b7a1a052e133b8aa.html">linux</a></li><li class="navelem"><a class="el" href="src_2include_2linux_2sched_8h.html">sched.h</a></li>
    <li class="footer">Generated on Fri Sep 8 2023 09:26:40 for linux by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
